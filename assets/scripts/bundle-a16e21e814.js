!function o(i,s,l){function c(r,e){if(!s[r]){if(!i[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(u)return u(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var n=s[r]={exports:{}};i[r][0].call(n.exports,function(e){var t=i[r][1][e];return c(t||e)},n,n.exports,o,i,s,l)}return s[r].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({"/home/olaf/projects/climatescope-2018/app/assets/data/cs-medium-latest.json":[function(e,t,r){t.exports=[{id:"1d2b3c0d877f",title:"3Q 2019 OFF-GRID AND MINI-GRID MARKET OUTLOOK",url:"https://medium.com/climatescope/3q-2019-off-grid-and-mini-grid-market-outlook-1d2b3c0d877f",description:"Recent developments include an increasing number of applications for microgrids: at airports in the U.S. and elsewhere to minimize outages…",tags:[{id:"energy",name:"Energy",url:"https://medium.com/tag/energy"},{id:"microgrid-industry",name:"Microgrid Industry",url:"https://medium.com/tag/microgrid-industry"},{id:"mini-grid",name:"Mini Grid",url:"https://medium.com/tag/mini-grid"},{id:"energy-access",name:"Energy Access",url:"https://medium.com/tag/energy-access"},{id:"zimbabwe",name:"Zimbabwe",url:"https://medium.com/tag/zimbabwe"}]},{id:"aabe027e9e9",title:"2Q 2019 OFF-GRID AND MINI-GRID MARKET OUTLOOK",url:"https://medium.com/climatescope/2q-2019-off-grid-and-mini-grid-market-outlook-aabe027e9e9",description:"The global microgrid industry is seeing a resurgence as well as convergence, with more partnerships, investments and acquisitions. In the…",tags:[{id:"energy",name:"Energy",url:"https://medium.com/tag/energy"},{id:"microgrid-industry",name:"Microgrid Industry",url:"https://medium.com/tag/microgrid-industry"},{id:"microgrid",name:"Microgrid",url:"https://medium.com/tag/microgrid"},{id:"energy-access",name:"Energy Access",url:"https://medium.com/tag/energy-access"},{id:"off-grid",name:"Off Grid",url:"https://medium.com/tag/off-grid"}]},{id:"ec4a400ced93",title:"1Q 2019 OFF-GRID AND MINI-GRID MARKET OUTLOOK",url:"https://medium.com/climatescope/1q-2019-off-grid-and-mini-grid-market-outlook-ec4a400ced93",description:"The scale of the microgrid market remained stagnant in recent months, but its focus shifted from serving communities toward serving…",tags:[{id:"energy",name:"Energy",url:"https://medium.com/tag/energy"},{id:"off-grid",name:"Off Grid",url:"https://medium.com/tag/off-grid"},{id:"energy-access",name:"Energy Access",url:"https://medium.com/tag/energy-access"},{id:"microgrid",name:"Microgrid",url:"https://medium.com/tag/microgrid"}]},{id:"1dace7fc9087",title:"4Q 2018 OFF-GRID AND MINI-GRID MARKET OUTLOOK",url:"https://medium.com/climatescope/4q-2018-off-grid-and-mini-grid-market-outlook-1dace7fc9087",description:"Acquisitions, partnerships, and new technology capabilities dominated the microgrid news flow in the past few months. Project activity…",tags:[{id:"energy",name:"Energy",url:"https://medium.com/tag/energy"},{id:"off-grid",name:"Off Grid",url:"https://medium.com/tag/off-grid"}]},{id:"a6319604e947",title:"DISTRIBUTED ENERGY IN EMERGING MARKETS",url:"https://medium.com/climatescope/distributed-energy-in-emerging-markets-a6319604e947",description:"Advances in distributed technologies at the frontiers of today’s energy system can now provide power where the traditional grid is…",tags:[{id:"energy",name:"Energy",url:"https://medium.com/tag/energy"},{id:"insights",name:"Insights",url:"https://medium.com/tag/insights"}]},{id:"e5116c1c7000",title:"CLEAN ENERGY AND THE PARIS PROMISES",url:"https://medium.com/climatescope/clean-energy-and-the-paris-promises-e5116c1c7000",description:"The 2015 Paris Agreement saw virtually every nation on earth pledge to address the threat of climate change. Each country’s Nationally…",tags:[{id:"climate-change",name:"Climate Change",url:"https://medium.com/tag/climate-change"},{id:"insights",name:"Insights",url:"https://medium.com/tag/insights"}]},{id:"ff9aa3d78b78",title:"POLICIES FOR THE ENERGY TRANSITION — LESSONS LEARNED IN EMERGING MARKETS",url:"https://medium.com/climatescope/policies-for-the-energy-transition-lessons-learned-in-emerging-markets-ff9aa3d78b78",description:"As the energy transition gains pace and strength, emerging market nations are leading the way, not just in terms of investment and…",tags:[{id:"climate-change",name:"Climate Change",url:"https://medium.com/tag/climate-change"},{id:"insights",name:"Insights",url:"https://medium.com/tag/insights"}]},{id:"4b7b37f8e3de",title:"EMERGING MARKETS CLEAN ENERGY INVESTMENT",url:"https://medium.com/climatescope/emerging-markets-clean-energy-investment-4b7b37f8e3de",description:"Since 2010, emerging markets have accounted for a larger share of global clean energy investment than the rest of the world. But from 2015…",tags:[{id:"climate-change",name:"Climate Change",url:"https://medium.com/tag/climate-change"},{id:"insights",name:"Insights",url:"https://medium.com/tag/insights"}]},{id:"514b6afade97",title:"HOW TO MITIGATE RENEWABLES RISKS IN EMERGING MARKETS",url:"https://medium.com/climatescope/how-to-mitigate-renewables-risks-in-emerging-markets-514b6afade97",description:"Every renewable energy project entails risk, but one in an emerging market can bring more and different types of risk. There is no…",tags:[{id:"energy",name:"Energy",url:"https://medium.com/tag/energy"},{id:"insights",name:"Insights",url:"https://medium.com/tag/insights"}]},{id:"70ed47656c31",title:"3Q 2018 OFF-GRID AND MINI-GRID MARKET OUTLOOK",url:"https://medium.com/climatescope/3q-2018-off-grid-and-mini-grid-market-outlook-70ed47656c31",description:"Microgrids and decentralized renewables are slowly moving from the fringes to the mainstream, marked by new first-of-their-kind projects…",tags:[{id:"energy",name:"Energy",url:"https://medium.com/tag/energy"},{id:"off-grid",name:"Off Grid",url:"https://medium.com/tag/off-grid"}]}]},{}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/area-chart.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.memoizedComputeAreaChartData=r.computeAreaChartData=r.default=void 0;var _=l(e("react")),a=e("prop-types"),j=e("react-transition-group"),i=l(e("lodash.isequal")),n=l(e("lodash.memoize")),w=l(e("lodash.kebabcase")),p=e("d3-shape"),f=e("d3-selection"),u=e("d3-axis"),P=e("d3-scale"),o=e("../config"),k=e("../utils/array"),m=e("../utils/utils"),O=e("../utils/math"),s=l(e("./size-aware-element"));function l(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){c(t,e,r[e])})}return t}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T=function(e){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=b(n).call(this,e),t=!a||"object"!==d(a)&&"function"!==typeof a?S(r):a,t.componentEl=null,t.margin={top:24,right:0,bottom:24,left:80,innerLeft:32,innerRight:32},t.initialized=!1,t.container=null,t.svg=null,t.dataCanvas=null,t.resizeListener=t.resizeListener.bind(S(S(t))),t}var t,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,e),t=n,r=[{key:"resizeListener",value:function(){this.initialized&&this.updateChart(this.props)}},{key:"getSize",value:function(){var e=this.margin,t=e.top,r=e.bottom,a=e.right,n=e.left,o=this.container.getSize(),i=o.width,s=o.height;return{width:parseInt(i,10)-n-a,height:parseInt(s,10)-t-r}}},{key:"onMouseOver",value:function(){this.props.onBisectorEvent("over")}},{key:"onMouseOut",value:function(){this.props.onBisectorEvent("out")}},{key:"onBisect",value:function(p,d){return function(e){var t=p.xScale,r=(0,f.mouse)(this),a=g(r,1),n=a[0],o=t.invert(n).getFullYear(),i=t.domain(),s=g(i,2),l=s[0],c=s[1],u=Math.max(l.getFullYear(),Math.min(o,c.getFullYear()));p.props.onBisectorEvent(d,(0,m.dateFromYear)(u))}}},{key:"setupTriggerMouse",value:function(e){e.on("mouseover",this.onMouseOver.bind(this)).on("mouseout",this.onMouseOut.bind(this)).on("mousemove",this.onBisect(this,"move"))}},{key:"initChart",value:function(){var e=this.margin,t=e.top,r=e.left,a=e.innerLeft;this.svg=(0,f.select)(this.container.el).append("svg").attr("class","chart"),this.svg.append("defs"),this.dataCanvas=this.svg.append("g").attr("class","data-canvas").attr("transform","translate(".concat(r,",").concat(t,")")),this.svg.append("rect").attr("class","data-canvas-debug").attr("transform","translate(".concat(r,",").concat(t,")")),this.dataCanvas.append("g").attr("class","data-areas data-layer").attr("transform","translate(".concat(a,",0)")),this.svg.append("g").attr("class","x axis"),this.svg.append("g").attr("class","y axis"),this.svg.append("text").attr("class","chart-label chart-label-y").attr("text-anchor","end").attr("transform","translate(".concat(r,",0)")).attr("dy","1em"),this.dataCanvas.append("line").attr("class","bisector-interact").attr("transform","translate(".concat(a,",0)")),this.dataCanvas.append("g").attr("class","bisector-circles"),this.svg.append("rect").attr("class","trigger-rect").style("fill","none").style("pointer-events","all").attr("transform","translate(".concat(r,",").concat(t,")")).call(this.setupTriggerMouse.bind(this))}},{key:"addAreaGradientDefs",value:function(e){var t=e.data,r=this.svg.select("defs").selectAll("linearGradient").data(t);r.exit().remove();var a=r.enter().append("linearGradient").attr("id",function(e){return"area-gradient-".concat((0,w.default)(e.name))}).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");a.append("stop").attr("offset",0).attr("class","stop stop--start"),a.append("stop").attr("offset",1).attr("class","stop stop--end")}},{key:"drawXAxis",value:function(e){var t=this.margin,r=t.top,a=t.left,n=t.innerLeft,o=this.getSize(),i=o.height,s=this.svg,l=(0,u.axisBottom)(e).ticks(5),c=s.select(".x.axis").attr("transform","translate(".concat(a+n,",").concat(i+r,")")).call(l).attr("font-size","");c.select(".domain").remove(),c.selectAll(".tick line").remove()}},{key:"drawYAxis",value:function(e){var t=this.margin,r=t.top,a=t.left,n=this.getSize(),o=n.width,i=n.height,s=this.svg,l=(0,u.axisLeft)(e).ticks(Math.ceil(i/48)).tickSize(-o).tickFormat(function(e){return(0,O.formatTousands)(e,0)}),c=s.select(".y.axis").attr("transform","translate(".concat(a,",").concat(r,")")).call(l);c.select(".domain").remove()}},{key:"drawAreas",value:function(e){var t=this.dataCanvas,r=this.yScale,a=this.xScale,n=e.data,o=e.interactionData,i=o.hover,s=o.hoverDateValue,l=t.select(".data-areas").selectAll(".area").data(n);l.exit().remove(),l.enter().append("g").merge(l).attr("class",function(e){return"area area--".concat((0,w.default)(e.name))}).each(function(e){(0,f.select)(this).datum(e).call(function(){var i=null,s=null,l=null,c=(0,p.area)().x(function(e){return i(e.date)}).y0(function(e){return s(e.d0)}).y1(function(e){return s(e.d1)}).defined(function(e){return null!==e.value}),u=(0,p.line)().x(function(e){return i(e.date)}).y(function(e){return s(e.d1)}).defined(function(e){return null!==e.value});function t(e){var t=e.data(),r=t[0].values,a=e.selectAll(".area__path").data([r]);a.exit().remove(),a.enter().append("path").attr("class","area__path").merge(a).attr("d",c);var n=e.selectAll(".area__line").data([r]);n.exit().remove(),n.enter().append("path").attr("class","area__line").merge(n).attr("d",u);var o=e.selectAll(".area__circle").data(r.filter(function(e){return null!==e.value}));o.exit().remove(),o.enter().append("circle").attr("class","area__circle").merge(o).attr("r",function(e){return e.date.getFullYear()===l?"4px":"3px"}).classed("active",function(e){return e.date.getFullYear()===l}).attr("cx",function(e){return i(e.date)}).attr("cy",function(e){return s(e.d1)})}return t.xScale=function(e){return i=e,t},t.yScale=function(e){return s=e,t},t.activeDate=function(e){return l=e?e.getFullYear():null,t},t}().xScale(a).yScale(r).activeDate(i&&s?s:null))})}},{key:"updateChart",value:function(e){var t=this.margin,r=t.top,a=t.bottom,n=t.right,o=t.left,i=t.innerLeft,s=t.innerRight,l=this.getSize(),c=l.width,u=l.height,p=this.svg,d=this.dataCanvas,f=e.data,m=e.yDomain,h=e.xDomain,y=e.yLabel,g=e.interactionData,v=g.hover,b=g.hoverDateValue,E=(0,P.scaleTime)().domain(h).range([0,c-i-s]);this.xScale=E;var _=(0,P.scaleLinear)().domain(m).range([u,0]);this.yScale=_,p.attr("width",c+o+n).attr("height",u+r+a),d.attr("width",c).attr("height",u),p.select(".trigger-rect").datum(f).attr("width",c).attr("height",u+r),p.select(".data-canvas-debug").attr("width",c).attr("height",u),this.addAreaGradientDefs(e),this.drawXAxis(E),this.drawYAxis(_),p.select(".chart-label-y").text(y),this.drawAreas(e);var j=d.select(".bisector-interact");if(j.style("display",v?"":"none"),v&&b){var w=this.xScale(b);j.attr("y2",0).attr("y1",u).attr("x1",w).attr("x2",w)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.interactionData,r=this.props.interactionData;if((0,i.default)(this.props.data,e.data)&&(0,i.default)(this.props.yDomain,e.yDomain))if(t.hover&&t.hoverDateValue){var a=this.xScale(t.hoverDateValue),n=this.getSize(),o=n.height;this.dataCanvas.select(".bisector-interact").style("display","").attr("y2",0).attr("y1",o).attr("x1",a).attr("x2",a),this.drawAreas(e)}else!t.hover&&r.hover&&(this.dataCanvas.select(".bisector-interact").style("display","none"),this.drawAreas(e));else this.updateChart(e)}},{key:"componentDidMount",value:function(){this.initChart(),this.updateChart(this.props),this.initialized=!0}},{key:"renderPopover",value:function(){var e=this.dataCanvas,t=this.xScale,r=this.margin.innerLeft,a=this.props,n=a.data,o=a.interactionData,i=o.hoverDateValue,s=o.hover;if(!i||!this.componentEl)return _.default.createElement("div",null);var l,c=i.getFullYear(),u=this.componentEl.getBoundingClientRect(),p=u.left,d=u.top,f=u.width,m=e.node().getScreenCTM().translate(t(i)+r,0),h=m.f-d+48,y=m.e-p;if(y+288+16>f){var g=y-288-16;l="place-left",g<0?(y-=144,l="place-center"):y=g}else y+=16,l="place-right";var v={position:"absolute",zIndex:100,pointerEvents:"none",left:y+"px",top:h+"px"},b=n.map(function(e){var t=e.values.find(function(e){return e.year===c}),r=t?t.value:null;return{name:e.name,value:r}}),E=(0,k.sort)(b,function(e,t){return"Other"===e.name?1:"Other"===t.name?-1:e.value>t.value?-1:1});return _.default.createElement(j.CSSTransition,{in:s,appear:!0,unmountOnExit:!0,classNames:"popover-trans",timeout:{enter:3e4,exit:300}},_.default.createElement("article",{className:"popover ".concat(l," popover--chart"),style:v},_.default.createElement("div",{className:"popover__contents"},_.default.createElement("div",{className:"popover__body"},_.default.createElement("dl",{className:"legend par-legend"},E.map(function(e){return _.default.createElement(_.default.Fragment,{key:e.name},_.default.createElement("dt",{className:"legend__key--val-".concat((0,w.default)(e.name))},e.name),_.default.createElement("dd",null,null===e.value?"--":(0,O.formatTousands)(e.value,2,!0)))}))))))}},{key:"render",value:function(){var t=this;return _.default.createElement("figure",{className:"schart",ref:function(e){t.componentEl=e}},this.renderPopover(),_.default.createElement(s.default,{ref:function(e){t.container=e},onChange:this.resizeListener,className:"schart__graph"}))}}],r&&v(t.prototype,r),a&&v(t,a),n}(_.default.Component);"production"!==o.environment&&(T.propTypes={onBisectorEvent:a.PropTypes.func,interactionData:a.PropTypes.object,xLabel:a.PropTypes.string,yLabel:a.PropTypes.string,yDomain:a.PropTypes.array,xDomain:a.PropTypes.array,data:a.PropTypes.array});var N=T;r.default=N;var C=function(e,t){var r={yDomain:[],xDomain:[],data:[],xLabel:"",yLabel:""};if(!e||!e.data.length)return r;var a=(0,k.splitArray)(e.data,function(e){return!t.length||-1!==t.indexOf(e.name)}),n=a.left,o=a.right,i=(0,k.sort)(n,function(e,t){var r=function(e){return e.reduce(function(e,t){return e+t.value},0)};return r(e.values)>r(t.values)?1:-1}),s={name:"Other",values:o.reduce(function(e,r){return e.length?e.map(function(e,t){return null===e.value?y({},e,{value:r.values[t].value}):null===r.values[t].value?e:y({},e,{value:e.value+r.values[t].value})}):r.values},[])},l=s.values.length?[s].concat(h(i)):i;if(l=l.reduce(function(e,t){return t.values.every(function(e){return 0===e.value})?e:e.concat(t)},[]),!l.length)return r;var c=l.reduce(function(a,e,n){return a.concat(y({},e,{values:e.values.map(function(e,t){var r=n>0?a[n-1].values[t].d1:0;return y({},e,{date:(0,m.dateFromYear)(e.year),d0:r,d1:r+e.value})})}))},[]),u=[0,c[c.length-1].values.reduce(function(e,t){var r=t.d1;return Math.max(e,r)},0)],p=c[0].values[0].year,d=c[0].values[c[0].values.length-1].year,f=[(0,m.dateFromYear)(p),(0,m.dateFromYear)(d)];return c.reverse(),{yDomain:u,xDomain:f,data:c,xLabel:e.meta["label-x"],yLabel:e.meta["label-y"]}};r.computeAreaChartData=C;var A=(0,n.default)(C,function(e,t,r){return r});r.memoizedComputeAreaChartData=A},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./size-aware-element":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/size-aware-element.js","d3-axis":"d3-axis","d3-scale":"d3-scale","d3-selection":"d3-selection","d3-shape":"d3-shape","lodash.isequal":"lodash.isequal","lodash.kebabcase":"lodash.kebabcase","lodash.memoize":"lodash.memoize","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-transition-group":"react-transition-group"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/con--availability-polices.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var f=l(e("react")),a=e("prop-types"),n=e("react-redux"),m=e("react-router-dom"),h=l(e("classnames")),o=e("../config"),i=e("../utils/utils"),s=e("../redux/policies"),y=e("./loading-skeleton");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){this.props.fetchPolicyCountryStats(this.props.geoIso)}},{key:"componentDidUpdate",value:function(e){e.geoIso!==this.props.geoIso&&this.props.fetchPolicyCountryStats(this.props.geoIso)}},{key:"render",value:function(){var e,t,r,a=this.props,n=a.size,o=a.geoIso,i=a.stats,s=i.isReady,l=i.hasError,c=i.getData,u=c(),p=u.total,d=u.mechanisms;return f.default.createElement("article",{className:(0,h.default)("info-card info-card--light chart-availability-policies",(e={},t="info-card--".concat(n),r=!!n,t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))},f.default.createElement("div",{className:"info-card__headline"},f.default.createElement("h1",{className:"info-card__title"},"Availability of policies"),f.default.createElement(m.Link,{to:"/policies?country=".concat(o),title:"View all geography policies"},"View all policies",s()&&" (".concat(p,")"))),l()&&f.default.createElement("p",null,"Something went wrong. Try again."),!s()&&f.default.createElement(y.LoadingSkeletonGroup,{style:{marginTop:"2rem"}},f.default.createElement(y.LoadingSkeleton,{size:"large",width:1/8}),f.default.createElement(y.LoadingSkeleton,{width:.25,style:{height:"10rem"}})),s()&&!l()&&f.default.createElement("ul",{className:"card-percent-list"},d.map(function(e){return f.default.createElement("li",{key:e.id},f.default.createElement("dl",{className:"card-percent"},f.default.createElement("dt",null,e.name),f.default.createElement("dd",null,f.default.createElement("span",null,e.count),f.default.createElement("div",{className:"card-percent-bar"},e.count>0&&f.default.createElement("div",{style:{height:"".concat(e.count/p*100,"%")}})))))})))}}],a&&u(r.prototype,a),n&&u(r,n),t}(f.default.PureComponent);"production"!==o.environment&&(v.propTypes={fetchPolicyCountryStats:a.PropTypes.func,stats:a.PropTypes.object,size:a.PropTypes.string,geoIso:a.PropTypes.string});var b=(0,n.connect)(function(e,t){return{stats:(0,i.wrapApiResult)((0,i.getFromState)(e.policies.countryStats,t.geoIso))}},function(e){return{fetchPolicyCountryStats:function(){return e(s.fetchPolicyCountryStats.apply(void 0,arguments))}}})(v);r.default=b},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/policies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/policies.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/dangerous-script-content.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,o=(a=e("react"),a&&a.__esModule?a:{default:a}),n=e("prop-types"),i=e("../config");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){var r=this.refs.container;r.innerHTML=this.props.dangerousContent,u(r.getElementsByTagName("script")).forEach(function(e){var t=document.createElement("script");t.text=e.text,r.appendChild(t),e.remove()})}},{key:"render",value:function(){var e=this.props,t=(e.dangerousContent,e.element),r=c(e,["dangerousContent","element"]);return o.default.createElement(t,l({ref:"container"},r))}}],a&&p(r.prototype,a),n&&p(r,n),t}(o.default.PureComponent);h.defaultProps={element:"div"},"production"!==i.environment&&(h.propTypes={dangerousContent:n.PropTypes.string});var y=h;r.default=y},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/dropdown.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=a(e("react")),i=(e("prop-types"),a(e("react-tether"))),s=e("react-transition-group");function a(e){return e&&e.__esModule?e:{default:e}}function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function p(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?h(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=[],g=function(e){function r(e){var t;return o(this,r),t=p(this,d(r).call(this,e)),t.state={open:!1},t._bodyListener=t._bodyListener.bind(h(h(t))),t._toggleDropdown=t._toggleDropdown.bind(h(h(t))),t}return f(r,e),c(r,[{key:"_bodyListener",value:function(e){var t=function(e){return e.getAttribute?e.getAttribute("data-hook"):null},r=e.target;if("BODY"!==r.tagName&&"HTML"!==r.tagName&&"dropdown:close"!==t(r)){if("SPAN"!==r.tagName||r.parentNode!==this.triggerRef||"dropdown:btn"!==t(r.parentNode))if("SPAN"!==r.tagName||"dropdown:close"!==t(r.parentNode))if(r&&"dropdown:btn"===t(r))r!==this.triggerRef&&this.close();else{do{if(r&&"dropdown:content"===t(r))break;r=r.parentNode}while(r&&"BODY"!==r.tagName&&"HTML"!==r.tagName);r!==this.dropdownRef&&this.close()}else this.close()}else this.close()}},{key:"_toggleDropdown",value:function(e){e.preventDefault(),this.toggle()}},{key:"componentDidMount",value:function(){y.push(this),window.addEventListener("click",this._bodyListener)}},{key:"componentWillUnmount",value:function(){y.splice(y.indexOf(this),1),window.removeEventListener("click",this._bodyListener)}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"open",value:function(){!this.state.open&&this.setState({open:!0})}},{key:"close",value:function(){this.state.open&&this.setState({open:!1})}},{key:"renderTriggerElement",value:function(){var t=this,e=this.props,r=e.id,a=e.triggerTitle,n=e.triggerText,o=e.triggerClassName,i=e.triggerActiveClassName,s=e.triggerElement,l=["drop__toggle"],c={onClick:this._toggleDropdown,"data-hook":"dropdown:btn",ref:function(e){t.triggerRef=e}};return o&&l.push(o),this.state.open&&i&&l.push(i),c.className=l.join(" "),"button"===s?c.type="button":(c.href="#",r&&(c.href+=r)),a&&(c.title=a),u.default.createElement(s,c,u.default.createElement("span",null,n))}},{key:"renderContent",value:function(){var t=this,e=this.props,r=e.id,a=e.direction,n=e.className,o=["drop__content","drop__content--react","drop-trans--".concat(a)],i={ref:function(e){t.dropdownRef=e},"data-hook":"dropdown:content"};return n&&o.push(n),i.className=o.join(" "),r&&(i.id=r),u.default.createElement(s.CSSTransition,{in:this.state.open,appear:!0,unmountOnExit:!0,classNames:"drop-trans",timeout:{enter:300,exit:300}},u.default.createElement(v,{props:i,onChange:this.props.onChange},this.props.children))}},{key:"render",value:function(){var e,t,r,a=this.props,n=a.alignment,o=a.direction;if("up"===o||"down"===o)e=["left","center","right"];else{if("left"!==o&&"right"!==o)throw new Error('Dropdown: direction "'.concat(o,'" is not supported. Use one of: up, down, left, right'));e=["top","middle","bottom"]}if(-1===e.indexOf(n))throw new Error('Dropdown: alignment "'.concat(n,'" is not supported when direction is ').concat(o,". Use one of: ").concat(e.join(", ")));switch(o){case"up":t="bottom ".concat(n),r="top ".concat(n);break;case"down":t="top ".concat(n),r="bottom ".concat(n);break;case"right":t="".concat(n," left"),r="".concat(n," right");break;case"left":t="".concat(n," right"),r="".concat(n," left")}return u.default.createElement(i.default,{attachment:t,targetAttachment:r,constraints:[{to:"window",attachment:"together"}]},this.renderTriggerElement(),this.renderContent())}}],[{key:"closeAll",value:function(){y.forEach(function(e){return e.close()})}}]),r}(u.default.Component);r.default=g,g.defaultProps={triggerElement:"button",direction:"down",alignment:"center"};var v=function(e){function t(){return o(this,t),p(this,d(t).apply(this,arguments))}return f(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.onChange&&this.props.onChange(!0)}},{key:"componentWillUnmount",value:function(){this.props.onChange&&this.props.onChange(!1)}},{key:"render",value:function(){return u.default.createElement("div",this.props.props,this.props.children)}}]),t}(u.default.Component)},{"prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-tether":"react-tether","react-transition-group":"react-transition-group"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/form-select-control.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=o(e("react")),a=e("prop-types"),l=o(e("classnames")),n=e("../config");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,t=e.className,r=e.label,a=e.id,n=e.options,o=e.selectedOption,i=e.onChange;return s.default.createElement("div",{className:(0,l.default)("form__group",t)},s.default.createElement("label",{className:"form__label",htmlFor:a},r),s.default.createElement("select",{className:"form__control",id:a,name:a,value:o,onChange:i},n.map(function(e){return s.default.createElement("option",{key:e.value,value:e.value},e.label)})))}}],a&&c(r.prototype,a),n&&c(r,n),t}(s.default.PureComponent);r.default=f,"production"!==n.environment&&(f.propTypes={className:a.PropTypes.string,label:a.PropTypes.string,id:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.number]),options:a.PropTypes.array,selectedOption:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.number]),onChange:a.PropTypes.func})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/geography-map.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=c(e("react")),a=e("prop-types"),i=c(e("mapbox-gl")),s=c(e("lodash.isequal")),n=e("../config"),l=c(e("./size-aware-element"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.default.accessToken=n.mbtoken;var h=function(e){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=d(n).call(this,e),t=!a||"object"!==u(a)&&"function"!==typeof a?m(r):a,t.resizeListener=t.resizeListener.bind(m(m(t))),t}var t,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e),t=n,r=[{key:"componentDidMount",value:function(){this.initMap()}},{key:"componentDidUpdate",value:function(e){(0,s.default)(this.props.geographyISO,e.geographyISO)||this.fitGeographyBounds(),(0,s.default)(this.props.geographyBounds,e.geographyBounds)||this.fitGeographyBounds()}},{key:"componentWillUnmount",value:function(){this.map&&this.map.remove()}},{key:"fitGeographyBounds",value:function(){if(this.mapLoaded&&this.props.geographyBounds.length){var e=Math.min(1280,this.refs.mapEl.getBoundingClientRect().width);this.map.fitBounds(this.props.geographyBounds,{padding:{top:32,bottom:32,left:0,right:0},offset:[e/4,0]})}}},{key:"highlightGeography",value:function(){if(this.mapLoaded&&this.props.geographyISO){var e=this.props.geographyISO;this.map.setFilter("ne-countries-contour",["==","ISO_A2",e]),this.map.setFilter("ne-countries",["!=","ISO_A2",e]),this.map.setFilter("ne-capitals-bullet",["==","ISO_A2",e]),this.map.setFilter("ne-capitals-label",["==","ISO_A2",e])}}},{key:"initMap",value:function(){var e=this;this.map=new i.default.Map({container:this.refs.mapEl,style:"mapbox://styles/climatescope/cjnoj0lpf1b7d2sqqp31ef6c9",minZoom:2,zoom:2,center:[-60.646,-26.153],interactive:!1}),this.map.on("load",function(){e.mapLoaded=!0,e.fitGeographyBounds(),e.highlightGeography()})}},{key:"resizeListener",value:function(){this.map&&this.map.resize()}},{key:"render",value:function(){return o.default.createElement(l.default,{element:"figure",className:"inpage__hero inpage__hero--map",onChange:this.resizeListener},o.default.createElement("div",{className:"inpage__hero-item",ref:"mapEl"}),o.default.createElement("figcaption",{className:"inpage__hero-caption"},"Geography map"))}}],r&&p(t.prototype,r),a&&p(t,a),n}(o.default.Component);r.default=h,"production"!==n.environment&&(h.propTypes={geographyISO:a.PropTypes.string,geographyBounds:a.PropTypes.array})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./size-aware-element":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/size-aware-element.js","lodash.isequal":"lodash.isequal","mapbox-gl":"mapbox-gl","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/geography-nav-bar.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=d(e("react")),a=e("prop-types"),i=e("react-router-dom"),s=d(e("classnames")),l=d(e("react-ga")),n=e("../config"),c=d(e("../utils/geographies-layout")),u=d(e("./dropdown")),p=d(e("./size-aware-element"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=h(n).call(this,e),t=!a||"object"!==f(a)&&"function"!==typeof a?g(r):a,t.menuItems=c.default.map(function(e){return{id:e.id,title:"Jump to section ".concat(e.title),label:e.title}}),t.state={largeUp:!1},t.onPrintClick=t.onPrintClick.bind(g(g(t))),t.resizeListener=t.resizeListener.bind(g(g(t))),t}var t,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,e),t=n,r=[{key:"onPrintClick",value:function(){l.default.event({category:"User action",action:"Print",label:this.props.geography.name}),window.print()}},{key:"resizeListener",value:function(e){var t=e.width;this.setState({largeUp:t>=992})}},{key:"render",value:function(){var e=this.props,t=e.isSticky,r=e.style,a=e.currentItem,n=this.menuItems.find(function(e){return e.id===a})||{label:"Sections"};return o.default.createElement(p.default,{onChange:this.resizeListener,element:"nav",className:(0,s.default)("inpage__nav nav",{"inpage__nav--sticky":t}),style:r,role:"navigation"},o.default.createElement("div",{className:"inner"},t?o.default.createElement("div",{className:"nav__headline"},o.default.createElement("p",{className:"nav__subtitle"},o.default.createElement(i.Link,{to:"/results",title:"View results page"},o.default.createElement("span",null,"View all markets"))),o.default.createElement("h1",{className:"nav__title"},this.props.geography.name)):null,o.default.createElement("div",{className:"nav__block"},t||!this.state.largeUp?o.default.createElement(u.default,{className:"dropdown-content",triggerElement:"a",triggerClassName:"nav__drop-trigger",triggerActiveClassName:"button--active",triggerText:n.label,triggerTitle:"Jump to section",direction:"down",alignment:"left"},o.default.createElement("h6",{className:"drop__title"},"Jump to section"),o.default.createElement("ul",{className:"drop__menu drop__menu--select"},this.menuItems.map(function(e){return o.default.createElement("li",{key:e.id},o.default.createElement("a",{"data-hook":"dropdown:close",href:"#".concat(e.id),title:e.title,className:(0,s.default)("drop__menu-item",{"drop__menu-item--active":e.id===n.id})},e.label))}))):o.default.createElement("ul",{className:"sections-menu"},this.menuItems.map(function(e){return o.default.createElement("li",{key:e.id,className:"sections-menu__item"},o.default.createElement("a",{href:"#".concat(e.id),title:e.title,className:"sections-menu__link"},o.default.createElement("span",null,e.label)))}))),o.default.createElement("div",{className:"inpage__actions"},o.default.createElement(u.default,{className:"dropdown-content",triggerClassName:"ipa-options",triggerActiveClassName:"button--active",triggerText:"Actions",triggerTitle:"Toggle options",direction:"down",alignment:"right"},o.default.createElement("h6",{className:"drop__title"},"Share"),o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(window.location.toString()),className:"drop__menu-item dpi-facebook",title:"Share on Facebook",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Facebook"))),o.default.createElement("li",null,o.default.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(window.location.toString()),className:"drop__menu-item dpi-twitter",title:"Share on Twitter",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Twitter")))),o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement("button",{className:"drop__menu-item dpi-print",title:"Print content",onClick:this.onPrintClick,"data-hook":"dropdown:close"},o.default.createElement("span",null,"Print")))),o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement(i.Link,{to:"/compare/".concat(this.props.geography.iso),className:"drop__menu-item dpi-compare",title:"Compare with another Geography","data-hook":"dropdown:close"},o.default.createElement("span",null,"Compare"))))))))}}],r&&m(t.prototype,r),a&&m(t,a),n}(o.default.PureComponent);r.default=v,"production"!==n.environment&&(v.propTypes={currentItem:a.PropTypes.string,isSticky:a.PropTypes.bool,geography:a.PropTypes.object,style:a.PropTypes.object})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/geographies-layout":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/geographies-layout.js","./dropdown":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/dropdown.js","./size-aware-element":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/size-aware-element.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/geography-params.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reconcileChartData=r.reconcileGroupChartData=r.getChildrenType=r.getChartData=r.getChartDef=r.renderParCardPercentGroup=r.renderParCardAnswerGroup=r.renderParCardTimeSeries=r.renderParCardRange=r.renderParCardPercent=r.renderParCardAbsolute=r.renderParCardAnswer=r.renderParCardError=r.renderParArea=r.ParCard=r.ParSectionHeader=r.ParSection=r.AreaBeta=r.AreaAlpha=void 0;var h=l(e("react")),a=e("prop-types"),u=l(e("classnames")),s=l(e("react-scrollable-anchor")),y=l(e("lodash.get")),n=e("../config"),o=e("../utils/math"),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}}(e("./area-chart")),g=l(e("./con--availability-polices"));function l(e){return e&&e.__esModule?e:{default:e}}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){d(t,e,r[e])})}return t}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t=e.children;return t};r.AreaAlpha=c;var b=function(e){var t=e.children;return t};r.AreaBeta=b;var f=function(e){var t=e.id,r=e.type,a=e.children,n=h.default.Children.toArray(a),o=n.find(function(e){return e.type===c}),i=n.find(function(e){return e.type===b});return h.default.createElement(s.default,{id:t},h.default.createElement("section",{className:(0,u.default)("par-section",d({},"par-section--".concat(r),!!r))},h.default.createElement("div",{className:"par-section__contents"},o&&h.default.createElement("div",{className:"area-alpha"},o),i&&h.default.createElement("div",{className:"area-beta"},i))))};r.ParSection=f,"production"!==n.environment&&(f.propTypes={id:a.PropTypes.string,type:a.PropTypes.string,children:a.PropTypes.node});var E=function(e){var t=e.title,r=e.description;return h.default.createElement("header",{className:"par-section__header"},h.default.createElement("h1",{className:"par-section__title"},t),h.default.createElement("div",{className:"par-section__description"},h.default.createElement("p",null,r)))};r.ParSectionHeader=E,"production"!==n.environment&&(E.propTypes={title:a.PropTypes.string,description:a.PropTypes.string});var m=function(e){var t,r=e.title,a=e.hiddenTitle,n=e.description,o=e.size,i=e.theme,s=e.topic,l=e.className,c=e.children;return h.default.createElement("article",{className:(0,u.default)("info-card",l,(t={},d(t,"info-card--".concat(o),!!o),d(t,"info-card--".concat(i),!!i),d(t,"info-card--par",!!s),d(t,"info-card--par-".concat(s),!!s),t))},h.default.createElement("h1",{className:(0,u.default)("info-card__title",{"visually-hidden":a})},r||a),n?h.default.createElement("div",{className:"info-card__statement"},h.default.createElement("p",null,n)):null,c)};r.ParCard=m,"production"!==n.environment&&(m.propTypes={title:a.PropTypes.string,hiddenTitle:a.PropTypes.string,description:a.PropTypes.string,size:a.PropTypes.string,theme:a.PropTypes.string,topic:a.PropTypes.string,className:a.PropTypes.string,children:a.PropTypes.node});r.renderParArea=function(e,u,p,d,f){if(-1===["alpha","beta"].indexOf(e))return null;var m=d.charts,t="alpha"===e?c:b,r="alpha"===e?"areaAlpha":"areaBeta";if(!u[r].length)return null;var a=u[r].map(function(t){if("sectionHeader"===t.id){var e=(d.sectionCopy||[]).find(function(e){return e.id===u.id}),r=(0,y.default)(e,"value","");return h.default.createElement(E,{key:t.id,title:u.title,description:r})}try{if("availabilityPolicies"===t.id)return h.default.createElement(g.default,{key:t.id,geoIso:d.iso,size:t.size});var a=C(p,t.id),n=v(a,1),o=n[0];if("group"===o.type){var i=C(p,o.children,t.id),s=x(o.id,i),l=L(t,o,i,m,d);switch(s){case"answer":return S(l);case"percent":return T(l);default:throw console.warn("Unable to render children type [".concat(s,"] for chart group [").concat(o.id,"]")),new Error("Unable to render children type [".concat(s,"] for chart group [").concat(o.id,"]"))}}else{var c=M(t,o,m,d);switch(c.type){case"answer":return j(c);case"absolute":case"average":return w(c);case"percent":return P(c);case"range":return k(c);case"timeSeries":return O(c,f,"".concat(d.iso,"-").concat(o.id));default:throw console.warn("Unable to render chart type [".concat(c.type,"] for chart [").concat(c.id,"]")),new Error("Unable to render chart type [".concat(c.type,"] for chart [").concat(c.id,"]"))}}}catch(e){return e.handled||console.error(e),_(t,e.message)}});return h.default.createElement(t,null,a)};var _=function(e,t){return h.default.createElement(m,{key:e.id,size:e.size,title:"Chart error",description:t,theme:"light"})};r.renderParCardError=_;var j=function(e){var t=e.data.value+"";return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},null===e.data.value?h.default.createElement("p",{className:"card-absolute"},"N/A"):h.default.createElement("dl",{className:"card-answer-options"},e.options.map(function(e){return h.default.createElement(h.default.Fragment,{key:e.id},h.default.createElement("dt",{className:(0,u.default)({"answer-checked":e.id===t,"answer-unchecked":e.id!==t})},e.label),h.default.createElement("dd",null,e.id===t?"Checked":"Unchecked"))})))};r.renderParCardAnswer=j;var w=function(e){var t=e.data.value;return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("p",{className:"card-absolute"},isNaN(Number(t))?t:(0,o.round)(t),e.unit&&h.default.createElement("small",null,e.unit)))};r.renderParCardAbsolute=w;var P=function(e){var t=e.data.value;return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("dl",{className:"card-percent card-percent--single"},h.default.createElement("dt",{className:"visually-hidden"},e.name),h.default.createElement("dd",null,h.default.createElement("span",null,null===t?"N/A":"".concat(t,"%")),null!==t&&h.default.createElement("div",{className:"card-percent-bar"},t>0&&h.default.createElement("div",{style:{height:"".concat(t,"%")}})))))};r.renderParCardPercent=P;var k=function(e){var t=e.data.value;return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("dl",{className:"range-legend"},e.options.map(function(e){return h.default.createElement(h.default.Fragment,{key:e.id},h.default.createElement("dt",null,e.label),h.default.createElement("dd",null,e.id))})),h.default.createElement("p",{className:"card-absolute"},isNaN(Number(t))?t:(0,o.round)(t)))};r.renderParCardRange=k;var O=function(e,t,r){var a=(0,i.memoizedComputeAreaChartData)(e.data,e.mainDataLayers,r),n=a.data.some(function(e){return e.values.some(function(e){return null!==e.value})});return h.default.createElement(m,{key:e.id,title:e.name,description:n&&e.description||null,size:e.size,className:(0,u.default)("chart-".concat(e.id),{"info-card--empty":!n})},!n&&h.default.createElement("p",null,"No data is available for this chart"),n&&h.default.createElement(i.default,{onBisectorEvent:t.onInteractionEvent.bind(t,e.id),interactionData:t.state[e.id],yLabel:a.yLabel,yDomain:a.yDomain,xDomain:a.xDomain,data:a.data}))};r.renderParCardTimeSeries=O;var S=function(e){var i=e.children.reduce(function(e,t){return t.options.reduce(function(e,t){return-1===e.indexOf(t.label)?e.concat(t.label):e},e)},[]);return h.default.createElement(m,{key:e.id,hiddenTitle:e.name,size:e.size},h.default.createElement("table",{className:"feature-table"},h.default.createElement("thead",null,h.default.createElement("tr",null,h.default.createElement("th",null,h.default.createElement("span",{className:"visually-hidden"},"Feature")),i.map(function(e){return h.default.createElement("th",{key:e},e)}))),h.default.createElement("tbody",null,e.children.map(function(e){var t,r=e.data.value+"",a=e.options.find(function(e){return e.id===r});if(e.applicableByGrid&&null!==e.data.value)if(a){var n=a.label;t=h.default.createElement(h.default.Fragment,null,h.default.createElement("th",null,h.default.createElement("h2",null,e.name),h.default.createElement("p",null,e.description)),i.map(function(e){return h.default.createElement("td",{key:e},h.default.createElement("strong",{className:(0,u.default)({"feature-checked":e===n,"feature-unchecked":e!==n})},h.default.createElement("span",null,e===n?"Checked":"Unchecked")))}))}else t=h.default.createElement(h.default.Fragment,null,h.default.createElement("th",null,h.default.createElement("h2",null,"Chart Error"),h.default.createElement("p",null,"The chart [",e.id,"] has a value of [",e.data.value,"] which is not found in options [",e.options.map(function(e){return e.id}).join(", "),"]")),h.default.createElement("td",{colSpan:i.length}));else{var o=e.applicableByGrid?"Only applicable to off-grid countries":"No answer available";t=h.default.createElement(h.default.Fragment,null,h.default.createElement("th",null,h.default.createElement("h2",null,e.name),h.default.createElement("p",null,e.description)),h.default.createElement("td",{colSpan:i.length},o))}return h.default.createElement("tr",{key:e.id,className:(0,u.default)(d({},"feature-table__line--par-".concat(e.topic),!!e.topic))},t)}))))};r.renderParCardAnswerGroup=S;var T=function(e){return h.default.createElement(m,{key:e.id,title:e.name,description:e.description||null,size:e.size,topic:e.topic},h.default.createElement("ul",{className:"card-percent-list"},e.children.map(function(e){return h.default.createElement("li",{key:e.id},h.default.createElement("dl",{className:"card-percent"},h.default.createElement("dt",null,e.name),h.default.createElement("dd",null,h.default.createElement("span",null,null===e.data.value?"N/A":"".concat(e.data.value,"%")),null!==e.data.value&&h.default.createElement("div",{className:"card-percent-bar"},e.data.value>0&&h.default.createElement("div",{style:{height:"".concat(e.data.value,"%")}})))))})))};r.renderParCardPercentGroup=T;var N=function(e,t){t=[].concat(t);var r=e.filter(function(e){return-1!==t.indexOf(e.id)});if(r.length===t.length)return r;var a=t.filter(function(t){return!r.find(function(e){return e.id===t})}),n=new Error("Missing ids");throw n.data=a,n},C=function(e,t,r){try{return N(e,t)}catch(e){if(!e.data)throw e;throw e.handled=!0,e.message="Definition not found for chart [".concat(e.data.join(", "),"]")+(r?" in group [".concat(r,"]"):""),e}};r.getChartDef=C;var A=function(e,t,r){try{return N(e,t)}catch(e){if(!e.data)throw e;throw e.handled=!0,e.message="Data not found for chart [".concat(e.data.join(", "),"]")+(r?" in group [".concat(r,"]"):""),e}};r.getChartData=A;var x=function(e,t){var r=t.reduce(function(e,t){return-1===e.indexOf(t.type)?e.concat(t.type):e},[]);if(1!==r.length)throw new Error("All the indicators of group [".concat(e,"] must be of same type. Types found: [").concat(r.join(", "),"]"));return r[0]};r.getChildrenType=x;var L=function(e,o,t,r,i){var a=A(r,o.id),n=v(a,1),s=n[0],l=[],c=t.map(function(e){try{var t=A(s.data,e.id,o.id),r=v(t,1),a=r[0],n=I(i,o);return p({},e,{data:a,applicableByGrid:n})}catch(e){l=l.concat(e.data)}});if(l.length)throw new Error("Data not found for chart [".concat(l.join(", "),"] in group [").concat(o.id,"]"));var u=p({},e,o,s,{children:c});return u};r.reconcileGroupChartData=L;var M=function(e,t,r,a){var n=A(r,e.id),o=v(n,1),i=o[0],s=I(a,t),l=p({},e,t,{data:i,applicableByGrid:s});return l};r.reconcileChartData=M;var I=function(e,t){return"both"===t["applicable-grid"]||e.grid===t["applicable-grid"]}},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js","./area-chart":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/area-chart.js","./con--availability-polices":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/con--availability-polices.js",classnames:"classnames","lodash.get":"lodash.get","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-scrollable-anchor":"react-scrollable-anchor"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/lib-card.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=s,r.MediumCategoryCard=r.MediumCard=r.ToolCard=r.LibCardImage=r.LibCardFooter=void 0;var p=o(e("react")),a=e("prop-types"),d=o(e("classnames")),n=e("../config"),f=e("../components/loading-skeleton"),m=o(e("../components/smart-link"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(this,arguments)}var h=function(e){var t=e.children;return t};function s(e){var t=e.isLoading,r=e.url,a=e.subtitle,n=e.linkTitle,o=e.title,i=e.description,s=e.isFeatured,l=e.children,c=p.default.Children.toArray(l),u=c.find(function(e){return e.type===h});return p.default.createElement("article",{className:(0,d.default)("card card--short",{"card--featured":s})},p.default.createElement("div",{className:"card__contents"},t?p.default.createElement(f.LoadingSkeletonGroup,null,p.default.createElement(f.LoadingSkeleton,{size:"large",type:"heading",width:.75}),p.default.createElement(f.LoadingSkeleton,null),p.default.createElement(f.LoadingSkeleton,null),p.default.createElement(f.LoadingSkeleton,{width:.25,style:{marginBottom:"4rem"}}),p.default.createElement(f.LoadingSkeleton,{width:2/3}),p.default.createElement(f.LoadingSkeleton,{width:.25})):p.default.createElement(p.default.Fragment,null,p.default.createElement("header",{className:"card__header"},p.default.createElement("div",{className:"card__headline"},p.default.createElement(m.default,{to:r,title:n,className:"link-wrapper"},a&&p.default.createElement("p",{className:"card__subtitle"},a),p.default.createElement("h1",{className:"card__title"},o)))),i&&p.default.createElement("div",{className:"card__body"},p.default.createElement("div",{className:"card__prose"},p.default.createElement("p",null,i))),p.default.createElement("footer",null,u))))}r.LibCardFooter=h,"production"!==n.environment&&(s.propTypes={isLoading:a.PropTypes.bool,isFeatured:a.PropTypes.bool,url:a.PropTypes.string,linkTitle:a.PropTypes.string,title:a.PropTypes.string,description:a.PropTypes.string,subtitle:a.PropTypes.string,footerTitle:a.PropTypes.string,children:a.PropTypes.node});var c=function(e){var t=e.linkTo,r=e.linkTitle,a=e.src,n=e.width,o=e.height,i=e.alt;return p.default.createElement("figure",{className:"card__media"},p.default.createElement(m.default,{to:t,title:r,className:"link-wrapper"},p.default.createElement("div",{className:"card__cover"},p.default.createElement("img",{src:"/assets/graphics/content/feat-tools/".concat(a),width:n,height:o,alt:i}))))};r.LibCardImage=c,"production"!==n.environment&&(c.propTypes={linkTo:a.PropTypes.string,linkTitle:a.PropTypes.string,src:a.PropTypes.string,width:a.PropTypes.number,height:a.PropTypes.number,alt:a.PropTypes.string});r.ToolCard=function(e){var t=e.isLoading,r=e.url,a=e.subtitle,n=e.linkTitle,o=e.title,i=e.description,s=e.image,l=e.isFeatured;e.children;return p.default.createElement("article",{className:(0,d.default)("card card--short card--tool",{"card--featured":l})},p.default.createElement("div",{className:"card__contents"},t?p.default.createElement(f.LoadingSkeletonGroup,null,p.default.createElement(f.LoadingSkeleton,{size:"large",type:"heading",width:.75}),p.default.createElement(f.LoadingSkeleton,null),p.default.createElement(f.LoadingSkeleton,null),p.default.createElement(f.LoadingSkeleton,{width:.25,style:{marginBottom:"4rem"}}),p.default.createElement(f.LoadingSkeleton,{width:2/3}),p.default.createElement(f.LoadingSkeleton,{width:.25})):p.default.createElement(p.default.Fragment,null,p.default.createElement("header",{className:"card__header"},p.default.createElement("div",{className:"card__headline"},p.default.createElement(m.default,{to:r,title:n,className:"link-wrapper"},a&&p.default.createElement("p",{className:"card__subtitle"},a),p.default.createElement("h1",{className:"card__title"},o))),p.default.createElement(c,{linkTo:r,linkTitle:n,src:s,width:960,height:480,alt:"Tool cover"})),i&&p.default.createElement("div",{className:"card__body"},p.default.createElement("div",{className:"card__prose"},p.default.createElement("p",null,i))),p.default.createElement("footer",null,p.default.createElement(m.default,{to:r,title:n,className:"card__go-link"},p.default.createElement("span",null,"Explore the tool"))))))};r.MediumCard=function(e){return p.default.createElement(s,i({},e,{footerTitle:"Explore the tool"}),!e.isLoading&&p.default.createElement(h,null,e.tags.length&&p.default.createElement(p.default.Fragment,null,p.default.createElement("h2",{className:"visually-hidden"},"Topics"),p.default.createElement("ul",{className:"topics-list"},e.tags.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("a",{href:e.url,className:"topic-link",title:"Browse Insights by Topic"},p.default.createElement("span",null,e.name)))}))),p.default.createElement(m.default,{to:e.url,title:"Read article",className:"card__go-link"},p.default.createElement("span",null,"Read article"))))};r.MediumCategoryCard=function(e){return p.default.createElement(s,e,p.default.createElement(h,null,p.default.createElement(m.default,{to:e.url,title:e.linkTitle,className:"card__go-link"},p.default.createElement("span",null,"View archive"))))}},{"../components/loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js","../components/smart-link":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/smart-link.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoadingSkeleton=r.LoadingSkeletonGroup=void 0;var c=o(e("react")),a=e("prop-types"),u=o(e("classnames")),n=e("../config");function o(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){var t=e.children,r=e.style;return c.default.createElement("div",{className:"lsk__group",style:r},t)};r.LoadingSkeletonGroup=i,"production"!==n.environment&&(i.propTypes={style:a.PropTypes.object,children:a.PropTypes.node});var s=function(e){var t,r=e.type,a=e.size,n=e.width,o=e.inline,i=e.style,s=e.theme;n=n||1;var l=(0,u.default)("lsk__item",(t={},p(t,"lsk__item--".concat(r),!!r),p(t,"lsk__item--".concat(a),!!a),p(t,"lsk__item--".concat(s),!!s),t));return i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){p(t,e,r[e])})}return t}({},i,{width:"".concat(100*n,"%"),display:o?"inline-block":"block"}),c.default.createElement("span",{className:l,style:i})};r.LoadingSkeleton=s,"production"!==n.environment&&(s.propTypes={style:a.PropTypes.object,type:a.PropTypes.string,theme:a.PropTypes.string,size:a.PropTypes.string,width:a.PropTypes.number,inline:a.PropTypes.bool})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/mapbox-popover.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,m=(a=e("react"),a&&a.__esModule?a:{default:a}),n=e("prop-types"),h=e("react-dom"),o=e("../config");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){s(t,e,r[e])})}return t}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function n(e){var t,r,a;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=u(n).call(this,e),t=!a||"object"!==i(a)&&"function"!==typeof a?d(r):a,n.instance)throw new Error("MBPopover instance already initialized");return n.instance=d(d(t)),t.onMarkerEvent=t.onMarkerEvent.bind(d(d(t))),t.onPopoverEvent=t.onPopoverEvent.bind(d(d(t))),t.fullHideState={show:!1,overPopover:!1,overMarker:!1,clickMarker:!1,clickOrigin:null,markerData:null},t.state=l({},t.fullHideState,{markerX:0,markerY:0,markerW:0,markerH:0}),t}var t,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,e),t=n,r=[{key:"onMarkerEvent",value:function(e,t,r){var a=this,n=this.state,o=l({},n);"over"===e?o=l({},o,{overMarker:!0}):"out"===e&&(o=l({},o,{overMarker:!1}));var i=t.getBoundingClientRect(),s={show:!0,markerData:r,markerX:i.left,markerY:i.top,markerW:i.width,markerH:i.height};if("over"!==e||o.clickMarker?"click"===e&&(o=l({},o,{clickOrigin:t}),o=o.clickMarker&&n.clickOrigin===o.clickOrigin?l({},o,this.fullHideState):l({},o,s,{clickMarker:!0})):o=l({},o,s),this.setState(o),"out"===e&&!o.clickMarker)return setTimeout(function(){a.state.overPopover||a.state.overMarker||a.setState(l({},a.state,a.fullHideState))},200)}},{key:"onPopoverEvent",value:function(e){"enter"!==e||this.state.clickMarker?("close"===e||"leave"===e&&!this.state.clickMarker)&&this.setState(l({},this.state,this.fullHideState)):this.setState(l({},this.state,{overMarker:!1,overPopover:!0}))}},{key:"componentDidMount",value:function(){this.el=document.querySelector("#map-popover"),this.el||(this.el=document.createElement("div"),this.el.id="#map-popover",document.querySelector(this.props.target).appendChild(this.el)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){n.instance=null,this.el.remove()}},{key:"render",value:function(){if(!this.el)return null;var e=this.state,t=e.show,r=e.markerX,a=e.markerY,n=e.markerW,o=e.markerData;if(!t)return null;var i=r+window.pageXOffset+n/2,s=a+window.pageYOffset,l={transform:"translate(-50%, -100%) translate(0, -0.5rem)",position:"absolute",zIndex:10,top:s,left:i},c=this.props,u=c.element,p=c.className,d=c.render,f=d(o);return null===f?null:(0,h.createPortal)(m.default.createElement(u,{className:p,style:l,onMouseEnter:this.onPopoverEvent.bind(this,"enter"),onMouseLeave:this.onPopoverEvent.bind(this,"leave"),children:f}),this.el)}}],a=[{key:"attachMarker",value:function(e,t){e.onmouseenter=function(){n.instance.onMarkerEvent("over",e,t)},e.ontouchstart=function(){n.instance.onMarkerEvent("over",e,t)},e.onmouseleave=function(){n.instance.onMarkerEvent("out",e,t)},e.onclick=function(){n.instance.onMarkerEvent("click",e,t)}}},{key:"hide",value:function(){n.instance&&n.instance.setState(l({},n.instance.state,n.instance.fullHideState))}}],r&&c(t.prototype,r),a&&c(t,a),n}(m.default.PureComponent);r.default=f,f.instance=null,f.defaultProps={element:"div",target:".page__body"},"production"!==o.environment&&(f.propTypes={element:n.PropTypes.string,target:n.PropTypes.string,className:n.PropTypes.string,render:n.PropTypes.func})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-dom":"react-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/meta-tags.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,o=(a=e("react"),a&&a.__esModule?a:{default:a}),n=e("prop-types"),i=e("react-helmet"),s=e("../config");var l=function(e){var t=e.title,r=e.description,a=e.imgUrl,n=e.children;return o.default.createElement(i.Helmet,null,o.default.createElement("title",null,t),r?o.default.createElement("meta",{name:"description",content:r}):null,o.default.createElement("meta",{name:"twitter:title",content:t}),a?o.default.createElement("meta",{name:"twitter:image:src",content:a}):null,r?o.default.createElement("meta",{name:"twitter:description",content:r}):null,o.default.createElement("meta",{property:"og:title",content:t}),a?o.default.createElement("meta",{property:"og:image",content:a}):null,r?o.default.createElement("meta",{property:"og:description",content:r}):null,n)};"production"!==s.environment&&(l.propTypes={title:n.PropTypes.string,description:n.PropTypes.string,imgUrl:n.PropTypes.string,children:n.PropTypes.node});var c=l;r.default=c},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-helmet":"react-helmet"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/nav-global-menu.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("react")),a=e("prop-types"),i=e("react-router-dom"),s=l(e("./dropdown")),n=e("../config");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,a=[{key:"renderHeaderMenu",value:function(){return o.default.createElement("ul",{className:"global-menu",id:"global-menu"},o.default.createElement("li",{className:"global-menu__item"},o.default.createElement(i.Link,{to:"/",title:"View",className:"global-menu__link"},"Home")),o.default.createElement("li",{className:"global-menu__item"},o.default.createElement(i.Link,{to:"/results",title:"View",className:"global-menu__link"},"Results")),o.default.createElement("li",{className:"global-menu__item drop"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret global-menu__link",triggerActiveClassName:"button--active",triggerText:"Insights & Tools",triggerTitle:"Explore the Insights & Tools",direction:"down",alignment:"right"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/key-findings",title:"View",className:"drop__menu-item"},"Key Findings")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/library",title:"View",className:"drop__menu-item"},"Content Library"))))),o.default.createElement("li",{className:"global-menu__item"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret global-menu__link",triggerActiveClassName:"button--active",triggerText:"About",triggerTitle:"Explore Climatescope",direction:"down",alignment:"right"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/about",title:"View",className:"drop__menu-item"},"Behind Climatescope")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/methodology",title:"View",className:"drop__menu-item"},"Methodology")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/license",title:"View",className:"drop__menu-item"},"License")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/contact",title:"View",className:"drop__menu-item"},"Contact"))))))}},{key:"renderFooterMenu",value:function(){return o.default.createElement("ul",{className:"footer-menu",id:"footer-menu"},o.default.createElement("li",{className:"footer-menu__item"},o.default.createElement(i.Link,{to:"/",title:"View",className:"footer-menu__link"},"Home")),o.default.createElement("li",{className:"footer-menu__item"},o.default.createElement(i.Link,{to:"/results",title:"View",className:"footer-menu__link"},"Results")),o.default.createElement("li",{className:"footer-menu__item drop"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret footer-menu__link",triggerActiveClassName:"button--active",triggerText:"Insights & Tools",triggerTitle:"Explore the Insights & Tools",direction:"up",alignment:"left"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/key-findings",title:"View",className:"drop__menu-item"},"Key Findings")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/library",title:"View",className:"drop__menu-item"},"Content Library"))))),o.default.createElement("li",{className:"footer-menu__item"},o.default.createElement(s.default,{className:"",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret footer-menu__link",triggerActiveClassName:"button--active",triggerText:"About",triggerTitle:"Explore Climatescope",direction:"up",alignment:"left"},o.default.createElement("ul",{className:"drop__menu"},o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/about",title:"View",className:"drop__menu-item"},"Behind Climatescope")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/methodology",title:"View",className:"drop__menu-item"},"Methodology")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/license",title:"View",className:"drop__menu-item"},"License")),o.default.createElement("li",null,o.default.createElement(i.Link,{"data-hook":"dropdown:close",to:"/contact",title:"View",className:"drop__menu-item"},"Contact"))))))}},{key:"render",value:function(){var e=this.props,t=e.forHeader,r=e.forFooter;return t?this.renderHeaderMenu():r?this.renderFooterMenu():null}}],a&&u(r.prototype,a),n&&u(r,n),t}(o.default.PureComponent);"production"!==n.environment&&(m.propTypes={forHeader:a.PropTypes.bool,forFooter:a.PropTypes.bool});var h=m;r.default=h},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./dropdown":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/dropdown.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/on-grid.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var l=o(e("react")),a=e("prop-types"),c=o(e("classnames")),n=e("../config");function o(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u.apply(this,arguments)}function i(e){var t=e.grid,r=e.theme,a=e.noTip;if(null===t||""===t)return null;t="string"===typeof t?"on"===t:t;var n,o,i,s=a?{}:{"data-tip":t?"On-grid":"Off-grid","data-for":"popover-compact"};return l.default.createElement("small",u({className:(0,c.default)("label label--grid",(n={"label--disabled":!t},o="label--".concat(r),i=!!r,o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n))},s),l.default.createElement("span",null,t?"On-grid":"Off-grid"))}"production"!==n.environment&&(i.propTypes={grid:a.PropTypes.oneOfType([a.PropTypes.bool,a.PropTypes.string]),theme:a.PropTypes.string})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/page-footer.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=u(e("react")),a=e("prop-types"),o=e("react-router-dom"),i=u(e("react-mailchimp-subscribe")),s=u(e("classnames")),l=u(e("./nav-global-menu")),c=e("../config");function u(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function h(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}var E=function(e){function t(){return d(this,t),h(this,g(t).apply(this,arguments))}return v(t,e),m(t,[{key:"render",value:function(){return n.default.createElement("footer",{className:"page__footer footer",role:"contentinfo"},n.default.createElement("div",{className:"inner"},n.default.createElement("nav",{className:"footer__block footer__block--nav nav"},n.default.createElement("h2",{className:"footer__title"},"Browse"),n.default.createElement(l.default,{forFooter:!0})),n.default.createElement(_,null),n.default.createElement("section",{className:"footer__block footer__block--supporters"},n.default.createElement("h2",{className:"footer__title"},"Supporters"),n.default.createElement("ul",{className:"logo-list"},n.default.createElement("li",null,n.default.createElement("a",{className:"logo-dfid",href:"https://www.gov.uk/government/organisations/department-for-international-development",title:"Visit Department for International Development",target:"_blank"},n.default.createElement("img",{src:"/assets/graphics/layout/logo-dfid-flat-pos.svg",alt:"Department for International Development logo"}),n.default.createElement("span",null,"Department for International Development"))),n.default.createElement("li",null,n.default.createElement("a",{className:"logo-ukaid",href:"https://www.gov.uk/government/organisations/department-for-international-development",title:"Visit UK Aid",target:"_blank"},n.default.createElement("img",{src:"/assets/graphics/layout/logo-ukaid-flat-pos.svg",alt:"UK Aid logo"}),n.default.createElement("span",null,"UK Aid")))))),n.default.createElement("div",{className:"footer__credits"},n.default.createElement("div",{className:"inner"},n.default.createElement("p",null,"2012-",c.appEdition," Climatescope. ",n.default.createElement(o.Link,{to:"/license",title:"About the license"},"View license"),"."))))}}]),t}(n.default.PureComponent);r.default=E,"production"!==c.environment&&(E.propTypes={location:a.PropTypes.object});var _=function(e){function r(e){var t;return d(this,r),t=h(this,g(r).call(this,e)),t.state={email:""},t.onChange=t.onChange.bind(y(y(t))),t}return v(r,e),m(r,[{key:"isValid",value:function(){var e=this.state.email.indexOf("@");return-1!==e&&e===this.state.email.lastIndexOf("@")}},{key:"onChange",value:function(e){this.setState({email:e.target.value})}},{key:"onSubmit",value:function(e,t){t.preventDefault(),this.isValid()&&(e({EMAIL:this.state.email}),this.setState({email:""}))}},{key:"render",value:function(){var a=this;return n.default.createElement(i.default,{url:c.mailchimpUrl||"",render:function(e){var t=e.subscribe,r=e.status;e.message;return n.default.createElement("section",{className:"footer__block footer__block--newsletter"},n.default.createElement("h2",{className:"footer__title"},"Stay up to date"),n.default.createElement("p",null,"Subscribe to the mailing list."),n.default.createElement("form",{className:(0,s.default)("form newsletter-form",{disabled:"sending"===r||!c.mailchimpUrl}),method:"post",id:"mc-embedded-subscribe-form",name:"subscribe-form",disabled:"sending"===r,onSubmit:a.onSubmit.bind(a,t)},n.default.createElement("div",{className:"form__group"},n.default.createElement("label",{className:"form__label"},"Email"),n.default.createElement("div",{className:"form__input-group form__input-group--medium"},n.default.createElement("input",{type:"email",name:"EMAIL",className:"form__control required email",id:"mce-EMAIL","aria-required":"true",placeholder:"Email",value:a.state.email,onChange:a.onChange}),n.default.createElement("button",{type:"submit",name:"subscribe",id:"mc-embedded-subscribe",className:"button button--primary-raised-dark"},n.default.createElement("span",null,"Subscribe"))))),n.default.createElement("div",{className:"form__help",id:"mce-responses"},"error"===r&&n.default.createElement("p",{className:"mce-response",id:"mce-error-response"},"Something went wrong."),"success"===r&&n.default.createElement("p",{className:"mce-response",id:"mce-success-response"},"You're now subscribed!")))}})}}]),r}(n.default.Component)},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./nav-global-menu":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/nav-global-menu.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-mailchimp-subscribe":"react-mailchimp-subscribe","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/page-header.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(e("react")),a=e("prop-types"),i=e("react-router-dom"),s=n(e("./nav-global-menu")),l=e("../config");function n(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,a=[{key:"render",value:function(){return o.default.createElement("header",{className:"page__header",role:"banner"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"page__headline"},o.default.createElement("h1",{className:"page__title"},o.default.createElement(i.Link,{to:"/",title:"View page"},l.appTitle," ",o.default.createElement("em",null,l.appEdition))),o.default.createElement("p",{className:"page__subtitle"},"by ",o.default.createElement("a",{href:"http://www.newenergyfinance.com/",title:"Visit Bloomberg NEF"},o.default.createElement("img",{alt:"Bloomberg New Energy Finance logo",src:"/assets/graphics/layout/logo-bnef-short-flat-neg.svg"}),o.default.createElement("span",null,"Bloomberg NEF")))),o.default.createElement("nav",{className:"page__prime-nav nav",role:"navigation"},o.default.createElement(s.default,{forHeader:!0}))))}}],a&&u(r.prototype,a),n&&u(r,n),t}(o.default.PureComponent);r.default=m,"production"!==l.environment&&(m.propTypes={location:a.PropTypes.object})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./nav-global-menu":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/nav-global-menu.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/parameters.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParameterGraph=l,r.ParameterBreakdown=c;var a,i=(a=e("react"),a&&a.__esModule?a:{default:a}),n=e("prop-types"),o=e("../config"),s=e("../utils/math");function l(e){var t=e.geographyIso,r=e.data;return i.default.createElement("dl",{className:"stack-bar","data-tip":t,"data-for":"param-graph-tooltip"},r.map(function(e,t){var r=e.id,a=e.value,n=e.weight;return i.default.createElement(i.default.Fragment,{key:r},i.default.createElement("dt",{className:"visually-hidden"},r),i.default.createElement("dd",{className:"param-".concat(t+1),style:{width:"".concat(a*(n/100)*20,"%")}},i.default.createElement("span",{className:"visually-hidden"},a)," "))}))}function c(e){var t=e.className,r=e.children,a=e.data;return i.default.createElement("dl",{className:t},r,a.map(function(e,t){var r=e.id,a=e.name,n=e.value,o=e.weight;return i.default.createElement(i.default.Fragment,{key:r},i.default.createElement("dt",{className:"legend__key--par-".concat(t+1)},a),i.default.createElement("dd",null,(0,s.round)(n),i.default.createElement("small",null,o,"%")))}))}"production"!==o.environment&&(l.propTypes={geographyIso:n.PropTypes.string,data:n.PropTypes.array}),"production"!==o.environment&&(c.propTypes={className:n.PropTypes.string,children:n.PropTypes.node,data:n.PropTypes.array})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/policies-table.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=p(e("react")),a=e("prop-types"),o=e("react-router-dom"),s=p(e("react-tooltip")),l=p(e("classnames")),n=e("../config"),c=e("../components/loading-skeleton"),u=e("../utils/array");function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),r=t,a=[{key:"componentDidUpdate",value:function(){s.default.rebuild()}},{key:"onSort",value:function(e,t){t.preventDefault();var r=this.props,a=r.sortDirection,n=r.onSort;n(e,"asc"===a?"desc":"asc")}},{key:"renderTableHeader",value:function(){var o=this;return i.default.createElement("thead",null,i.default.createElement("tr",null,[{id:"name",sortable:!0,title:"Sort by policy name",value:"Policy name"},{id:"country",sortable:!0,title:"Sort by geography",value:"Geography"},{id:"mechanism",sortable:!1,value:"Policy Mechanism"},{id:"status",sortable:!0,title:"Sort by status",value:"Status"}].map(function(e){if(!e.sortable)return i.default.createElement("th",{key:e.id},e.value);var t=o.props,r=t.sortField,a=t.sortDirection,n=(0,l.default)("table__sort",{"table__sort--none":r!==e.id,"table__sort--asc":r===e.id&&"asc"===a,"table__sort--desc":r===e.id&&"desc"===a});return i.default.createElement("th",{key:e.id},i.default.createElement("a",{href:"#",title:e.title,className:n,onClick:o.onSort.bind(o,e.id)},e.value))})))}},{key:"renderLoadingRows",value:function(){return(0,u.initializeArrayWithRange)(10).map(function(e){return i.default.createElement("tr",{key:e},i.default.createElement("td",null,i.default.createElement(c.LoadingSkeleton,null)),i.default.createElement("td",null,i.default.createElement(c.LoadingSkeleton,null)),i.default.createElement("td",null,i.default.createElement(c.LoadingSkeleton,null)),i.default.createElement("td",null,i.default.createElement(c.LoadingSkeleton,null)))})}},{key:"renderRows",value:function(){var t=function(e){return e.length?1===e.length?e[0].name:i.default.createElement("div",{"data-for":"array-field-tooltip","data-tip":e.map(function(e){return e.name}).join(", ")},e[0].name,e.length>1?i.default.createElement("small",null,"+ ",e.length-1):null):"N/A"};return this.props.policies.map(function(e){return i.default.createElement("tr",{key:e.id},i.default.createElement("th",null,i.default.createElement(o.Link,{to:"/policies/".concat(e.id),title:"Go to policy page"},e.name)),i.default.createElement("td",null,t(e.country)),i.default.createElement("td",null,t(e.type.mechanism)),i.default.createElement("td",null,e.status.name))})}},{key:"renderTooltip",value:function(){return i.default.createElement(s.default,{id:"array-field-tooltip",effect:"solid",type:"custom",className:"popover",wrapper:"article",getContent:function(e){return i.default.createElement("div",{className:"popover__contents"},i.default.createElement("div",{className:"popover__body"},e))}})}},{key:"render",value:function(){return this.props.loading||this.props.policies.length?i.default.createElement(i.default.Fragment,null,i.default.createElement("table",{className:"table policies-table"},this.renderTableHeader(),i.default.createElement("tbody",null,this.props.loading?this.renderLoadingRows():this.renderRows())),this.renderTooltip()):null}}],a&&f(r.prototype,a),n&&f(r,n),t}(i.default.PureComponent);r.default=g,"production"!==n.environment&&(g.propTypes={sortField:a.PropTypes.string,sortDirection:a.PropTypes.string,policies:a.PropTypes.array,loading:a.PropTypes.bool,onSort:a.PropTypes.func})},{"../components/loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom","react-tooltip":"react-tooltip"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/results-map-popover-contents.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=i(e("react")),a=e("prop-types"),u=e("react-router-dom"),o=i(e("react-tooltip")),n=e("../config"),p=i(e("./on-grid")),d=e("./parameters"),f=e("../utils/math");function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){o.default.rebuild()}},{key:"componentDidUpdate",value:function(){o.default.rebuild()}},{key:"render",value:function(){var e=this.props,t=e.iso,r=e.score,a=e.rank,n=e.name,o=e.topics,i=e.grid,s=e.onCloseClick,l=!!r;return c.default.createElement("div",{className:"popover__contents"},c.default.createElement("header",{className:"popover__header"},c.default.createElement("div",{className:"popover__headline"},c.default.createElement("h1",{className:"popover__title"},c.default.createElement(u.Link,{to:"/results/".concat(t),title:"View ".concat(n," page")},n),c.default.createElement(p.default,{grid:i}))),c.default.createElement("div",{className:"popover__header-toolbar"},c.default.createElement("a",{href:"#",title:"Close",className:"tba-xmark tba--text-hidden",onClick:s},c.default.createElement("span",null,"Close")))),c.default.createElement("div",{className:"popover__body"},l?c.default.createElement(d.ParameterBreakdown,{className:"legend par-legend",data:o},c.default.createElement("dt",null,"Global rank"),c.default.createElement("dd",null,a),c.default.createElement("dt",null,"Score"),c.default.createElement("dd",null,(0,f.round)(r))):c.default.createElement(c.default.Fragment,null,c.default.createElement("dl",{className:"legend par-legend"},c.default.createElement("dt",null,"Global rank"),c.default.createElement("dd",null,"--"),c.default.createElement("dt",null,"Score"),c.default.createElement("dd",null,"--")),c.default.createElement("p",{className:"empty"},"There is no data for this geography"))),c.default.createElement("footer",{className:"popover__footer"},c.default.createElement(u.Link,{to:"/results/".concat(t),className:"popover__cta",title:"View ".concat(n," page")},"View more")))}}],a&&l(r.prototype,a),n&&l(r,n),t}(c.default.PureComponent);r.default=g,"production"!==n.environment&&(g.propTypes={onCloseClick:a.PropTypes.func,iso:a.PropTypes.string,rank:a.PropTypes.number,name:a.PropTypes.string,topics:a.PropTypes.array,grid:a.PropTypes.bool,score:a.PropTypes.number})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js","./on-grid":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/on-grid.js","./parameters":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/parameters.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom","react-tooltip":"react-tooltip"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/results-map.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=y(e("react")),a=e("prop-types"),n=e("react-dom"),s=y(e("mapbox-gl")),o=y(e("classnames")),i=y(e("lodash.debounce")),l=y(e("lodash.isequal")),u=e("../config"),p=e("../utils/string"),d=e("../utils/array"),f=y(e("../utils/mapbox-react-control")),m=y(e("./mapbox-popover")),h=y(e("./results-map-popover-contents"));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}s.default.accessToken=u.mbtoken;var w=function(e){var t=e.highlight,r=e.onClick;return c.default.createElement("div",{className:"rank-switcher"},c.default.createElement("button",{type:"button",title:"Highlight top 10 geographies",className:(0,o.default)({"button--active":"top"===t}),onClick:function(){return r("top")}},c.default.createElement("span",null,"Top ten")),c.default.createElement("button",{type:"button",title:"Highlight bottom 10 geographies",className:(0,o.default)({"button--active":"bottom"===t}),onClick:function(){return r("bottom")}},c.default.createElement("span",null,"Bottom ten")))};"production"!==u.environment&&(w.propTypes={onClick:a.PropTypes.func,highlight:a.PropTypes.string});var P=function(e,t){var r=document.createElement("div");return r.style.cursor="pointer",t?(0,n.render)(c.default.createElement("div",{className:"country-marker highlight"},(0,p.padNumber)(t,2)),r):(0,n.render)(c.default.createElement("div",{className:"country-marker"}),r),m.default.attachMarker(r,{geoIso:e}),r},k=function(e){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=E(n).call(this,e),t=!a||"object"!==g(a)&&"function"!==typeof a?j(r):a,t.markers=[],t.popoverRenderer=t.popoverRenderer.bind(j(j(t))),t}var t,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,e),t=n,r=[{key:"componentDidMount",value:function(){this.initMap()}},{key:"componentDidUpdate",value:function(e){(0,l.default)(this.props.highlightISO,e.highlightISO)||this.setHighlightedGeographies(this.props.highlightISO),this.mapLoaded&&!(0,l.default)(this.props.bounds,e.bounds)&&this.map.fitBounds(this.props.bounds),(0,l.default)(this.props.data,e.data)||this.renderMarkers(),(0,l.default)(this.props.meta,e.meta)||this.renderMarkers(),(0,l.default)(this.props.markersHighlight,e.markersHighlight)||(this.renderMarkers(),this.markersHighlightControl.render({highlight:this.props.markersHighlight}))}},{key:"setHighlightedGeographies",value:function(e){this.mapLoaded&&this.map.setFilter("ne-countries-highlight",["in","ISO_A2"].concat(v(e)))}},{key:"renderMarkers",value:function(){var o=this;if(this.mapLoaded&&this.props.data.length&&this.props.meta.length){this.markers.forEach(function(e){return e.remove()});var i=0,e="bottom"===this.props.markersHighlight?(0,d.reverse)(this.props.data):this.props.data,t=e.reduce(function(e,t){var r=o.props.meta.find(function(e){return(0,p.equalsIgnoreCase)(e.iso,t.iso)});if(!r)return console.warn("Geography not found on meta data:",t.iso),e;if(t.score&&i<10){i++;var a=new s.default.Marker(P(t.iso,t.rank)).setLngLat(r.center);return e.concat(a)}var n=new s.default.Marker(P(t.iso)).setLngLat(r.center);return[n].concat(e)},[]);this.markers=t.map(function(e){return e.addTo(o.map)})}}},{key:"initMap",value:function(){var e=this;this.map=new s.default.Map({center:[0,0],container:this.refs.mapEl,style:"mapbox://styles/climatescope/cjnn8lhdz04252rqkmbu8uexz",zoom:2,pitchWithRotate:!1,renderWorldCopies:!1,dragRotate:!1,logoPosition:"bottom-right"}),this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation(),this.map.scrollZoom.disable(),this.markersHighlightControl=new f.default(w,{highlight:this.props.markersHighlight,onClick:this.props.onMarkerHighlightChange}),this.map.addControl(this.markersHighlightControl,"bottom-left"),this.map.addControl(new s.default.NavigationControl,"bottom-left"),document.querySelector(".mapboxgl-ctrl .mapboxgl-ctrl-compass").remove(),this.map.on("load",function(){e.mapLoaded=!0,e.map.setPaintProperty("background","background-opacity",0),e.map.setPaintProperty("ne-countries-highlight","fill-color","#02A87C"),e.setHighlightedGeographies(e.props.highlightISO),e.map.fitBounds(e.props.bounds),e.renderMarkers();e.map.on("move",(0,i.default)(function(){m.default.hide()},100,{leading:!0,trailing:!1}))})}},{key:"onPopoverCloseClick",value:function(e){e.preventDefault(),m.default.hide()}},{key:"popoverRenderer",value:function(e){var t=e.geoIso,r=this.props.data.find(function(e){return(0,p.equalsIgnoreCase)(e.iso,t)});if(!r)return null;var a=r.iso,n=r.score,o=r.rank,i=r.name,s=r.topics,l=r.grid;return c.default.createElement(h.default,{onCloseClick:this.onPopoverCloseClick,iso:a,rank:o,name:i,topics:s,grid:l,score:n})}},{key:"render",value:function(){return c.default.createElement("figure",{className:"results-map-viz media"},c.default.createElement("div",{className:"media__item",ref:"mapEl"}),c.default.createElement("figcaption",{className:"media__caption"},"Top and bottom ten geographies"),c.default.createElement(m.default,{element:"article",className:"popover popover--map",render:this.popoverRenderer}))}}],r&&b(t.prototype,r),a&&b(t,a),n}(c.default.Component);r.default=k,"production"!==u.environment&&(k.propTypes={highlightISO:a.PropTypes.array,bounds:a.PropTypes.array,data:a.PropTypes.array,meta:a.PropTypes.array,onMarkerHighlightChange:a.PropTypes.func,markersHighlight:a.PropTypes.string})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","../utils/mapbox-react-control":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/mapbox-react-control.js","../utils/string":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/string.js","./mapbox-popover":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/mapbox-popover.js","./results-map-popover-contents":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/results-map-popover-contents.js",classnames:"classnames","lodash.debounce":"lodash.debounce","lodash.isequal":"lodash.isequal","mapbox-gl":"mapbox-gl","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-dom":"react-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/results-table.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=y(e("react")),a=e("prop-types"),c=e("react-router-dom"),o=y(e("react-tooltip")),i=y(e("lodash.orderby")),s=y(e("classnames")),n=e("../config"),u=e("./loading-skeleton"),p=y(e("./on-grid")),d=e("./parameters"),f=e("../utils/string"),m=e("../utils/math"),h=e("../utils/array");function y(e){return e&&e.__esModule?e:{default:e}}function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,E(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),r=t,a=[{key:"componentDidUpdate",value:function(){o.default.rebuild()}},{key:"onSort",value:function(e,t){t.preventDefault();var r=this.props,a=r.sortField,n=r.sortDirection,o=r.onSort;a===e?o(a,"asc"===n?"desc":"asc"):o(e,"asc")}},{key:"renderTableHeader",value:function(){var o=this,e=[{id:"rank",sortable:!0,title:"Sort by rank",value:"Rank"},{id:"name",sortable:!0,title:"Sort by geography",value:"Geography"},{id:"score",sortable:!0,title:"Sort by score",value:"Score"},{id:"graph",sortable:!1,value:l.default.createElement(l.default.Fragment,null,l.default.createElement("span",{className:"visually-hidden"},"Topics:")," 0.0 - 5.0")},{id:"grid",sortable:!0,title:"Sort by grid",value:"Grid"}];return l.default.createElement("thead",null,l.default.createElement("tr",null,e.map(function(e){if(!e.sortable)return l.default.createElement("th",{className:"th-".concat(e.id),key:e.id},e.value);var t=o.props,r=t.sortField,a=t.sortDirection,n=(0,s.default)("table__sort",{"table__sort--none":r!==e.id,"table__sort--asc":r===e.id&&"asc"===a,"table__sort--desc":r===e.id&&"desc"===a});return l.default.createElement("th",{className:"th-".concat(e.id),key:e.id},l.default.createElement("a",{href:"#",title:e.title,className:n,onClick:o.onSort.bind(o,e.id)},e.value))})))}},{key:"renderLoadingRows",value:function(){return(0,h.initializeArrayWithRange)(10).map(function(e){return l.default.createElement("tr",{key:e},l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)),l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)),l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)),l.default.createElement("td",null,l.default.createElement(u.LoadingSkeleton,null)))})}},{key:"renderRows",value:function(){var e=this.props,t=e.data,r=e.sortField,a=e.sortDirection,n=(0,i.default)(t,r,a);return n.map(function(e){var t=e.iso,r=e.score,a=e.rank,n=e.name,o=e.topics,i=e.grid,s=!!r;return l.default.createElement("tr",{key:t},l.default.createElement("th",{className:"cell-rank"},s?(0,f.padNumber)(a,2):"--"),l.default.createElement("th",{className:"cell-country"},l.default.createElement(c.Link,{to:"/results/".concat(t),title:"Go to ".concat(n," page")},n)),l.default.createElement("td",null,s?(0,m.round)(r):"--"),l.default.createElement("td",null,l.default.createElement(d.ParameterGraph,{geographyIso:t,data:o||[]})),l.default.createElement("td",null,l.default.createElement(p.default,{grid:i})))})}},{key:"renderParamGraphTooltip",value:function(){var a=this;return l.default.createElement(o.default,{id:"param-graph-tooltip",effect:"solid",type:"custom",className:"popover popover--table",wrapper:"article",getContent:function(t){var e=a.props.data.find(function(e){return e.iso===t});if(!e)return null;var r=e.topics&&e.topics.length;return l.default.createElement("div",{className:"popover__contents"},l.default.createElement("header",{className:"popover__header visually-hidden"},l.default.createElement("div",{className:"popover__headline"},l.default.createElement("h1",{className:"popover__title"},"Topic breakdown"))),l.default.createElement("div",{className:"popover__body"},r?l.default.createElement(d.ParameterBreakdown,{className:"legend par-legend",data:e.topics}):l.default.createElement("p",{className:"empty"},"There is no data for this geography")))}})}},{key:"render",value:function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("table",{className:"table results-table"},this.renderTableHeader(),l.default.createElement("tbody",null,this.props.loading?this.renderLoadingRows():this.renderRows())),this.renderParamGraphTooltip())}}],a&&v(r.prototype,a),n&&v(r,n),t}(l.default.PureComponent);r.default=j,"production"!==n.environment&&(j.propTypes={onSort:a.PropTypes.func,sortField:a.PropTypes.string,sortDirection:a.PropTypes.string,data:a.PropTypes.array,loading:a.PropTypes.bool})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js","../utils/string":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/string.js","./loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js","./on-grid":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/on-grid.js","./parameters":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/parameters.js",classnames:"classnames","lodash.orderby":"lodash.orderby","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom","react-tooltip":"react-tooltip"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/share.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("react")),a=e("prop-types"),n=e("../config"),i=s(e("./dropdown"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props.url;return o.default.createElement(i.default,{className:"dropdown-content",triggerClassName:"ipa-share",triggerActiveClassName:"button--active",triggerText:"Share",triggerTitle:"Toggle share options",direction:"down",alignment:"right"},o.default.createElement("ul",{className:"drop__menu drop__menu--iconified"},o.default.createElement("li",null,o.default.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(e),className:"drop__menu-item dpi-facebook",title:"Share on Facebook",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Facebook"))),o.default.createElement("li",null,o.default.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(e),className:"drop__menu-item dpi-twitter",title:"Share on Twitter",target:"_blank","data-hook":"dropdown:close"},o.default.createElement("span",null,"Twitter")))))}}],a&&c(r.prototype,a),n&&c(r,n),t}(o.default.PureComponent);r.default=f,"production"!==n.environment&&(f.propTypes={url:a.PropTypes.string})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./dropdown":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/dropdown.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/size-aware-element.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=s(e("react")),a=e("prop-types"),i=s(e("element-resize-event")),n=e("../config");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function p(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=d(n).call(this,e),t=!a||"object"!==l(a)&&"function"!==typeof a?m(r):a,t.el=null,t.width=null,t.height=null,t.resizeListener=t.resizeListener.bind(m(m(t))),t}var t,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e),t=n,r=[{key:"getSize",value:function(){if(this.el){var e=this.el,t=e.clientHeight,r=e.clientWidth,a=getComputedStyle(this.el),n=a.paddingTop,o=a.paddingBottom,i=a.paddingLeft,s=a.paddingRight;return{width:r-parseFloat(i)-parseFloat(s),height:t-parseFloat(n)-parseFloat(o)}}}},{key:"resizeListener",value:function(){var e=this.getSize(),t=e.width,r=e.height;t===this.width&&r===this.height||(this.width=t,this.height=r,this.props.onChange({width:t,height:r}))}},{key:"componentDidMount",value:function(){(0,i.default)(this.el,this.resizeListener),this.resizeListener()}},{key:"render",value:function(){var t=this,e=this.props,r=e.element,a=e.children,n=u(e,["element","children"]);return o.default.createElement(r,c({ref:function(e){t.el=e}},n),a)}}],r&&p(t.prototype,r),a&&p(t,a),n}(o.default.Component);"production"!==n.environment&&(h.propTypes={onChange:a.PropTypes.func,element:a.PropTypes.string,children:a.PropTypes.node}),h.defaultProps={element:"div",onChange:function(){}};var y=h;r.default=y},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","element-resize-event":"element-resize-event","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/slider-controls.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SliderControlGroup=r.SliderControl=void 0;var s=o(e("react")),a=e("prop-types"),l=o(e("classnames")),c=o(e("react-slider")),n=e("../config"),d=e("../utils/math"),f=e("../utils/array");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function h(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?b(e):t}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){_(t,e,r[e])})}return t}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e,t,r,a){return E({},e,_({},t,E({},e[t],_({},r,a))))},w=function(e){function r(e){var t;return u(this,r),t=h(this,y(r).call(this,e)),t.onLockClick=t.onLockClick.bind(b(b(t))),t}return g(r,e),m(r,[{key:"onLockClick",value:function(){var e=this.props,t=e.onLockChange,r=e.locked;t(!r)}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.id,a=e.value,n=e.locked,o=e.className,i=e.onSliderChange;return s.default.createElement("div",{className:(0,l.default)("control",o,r)},s.default.createElement("h3",{className:"control__title"},t),s.default.createElement(c.default,{value:a,withBars:!0,disabled:n,onChange:i}),s.default.createElement("span",{className:(0,l.default)("slider-value",r)},(0,d.round)(a,0),"%"),s.default.createElement("label",{htmlFor:"switch-".concat(r),className:"form__option form__option--text-hidden form__option--switch fos-lock",title:"Toggle lock/unlock"},s.default.createElement("input",{type:"checkbox",name:"switch-".concat(r),id:"switch-".concat(r),checked:n,onChange:this.onLockClick}),s.default.createElement("span",{className:"form__option__ui"}),s.default.createElement("span",{className:"form__option__text"},"Lock")))}}]),r}(s.default.PureComponent);r.SliderControl=w,"production"!==n.environment&&(w.propTypes={title:a.PropTypes.string,id:a.PropTypes.string,className:a.PropTypes.string,value:a.PropTypes.number,locked:a.PropTypes.bool,onSliderChange:a.PropTypes.func,onLockChange:a.PropTypes.func});var P=function(e){function t(){return u(this,t),h(this,y(t).apply(this,arguments))}return g(t,e),m(t,[{key:"onLockChange",value:function(e,t){var r=this.props,a=r.values,n=r.onChange;n(j(a,e,"locked",t))}},{key:"onSliderChange",value:function(t,n){var e=this.props,r=e.values,a=e.onChange,o=j(r,t,"value",n),i=(0,f.objectToArray)(o),s=i.filter(function(e){return!e.locked&&e.__key!==t}),l=100-(0,d.sumBy)(i,"value"),c=(0,d.distributedDivision)(l,s.length);o=s.reduce(function(e,t,r){var a=Math.max(0,Math.min(t.value+c[r],100));return j(e,t.__key,"value",100===n?0:a)},o);var u=(0,d.sumBy)((0,f.objectToArray)(o),function(e){return e.__key===t?0:e.value}),p=100-u;o=j(o,t,"value",p),a(o)}},{key:"render",value:function(){var n=this,e=this.props,t=e.sliders,o=e.values;return t.map(function(e,t){var r=e.name,a=e.id;return s.default.createElement(w,{key:a,title:r,className:(0,l.default)({first:0===t}),value:o[a].value,locked:o[a].locked,id:"param-".concat(t+1),onLockChange:n.onLockChange.bind(n,a),onSliderChange:n.onSliderChange.bind(n,a)})})}}]),t}(s.default.PureComponent);r.SliderControlGroup=P,"production"!==n.environment&&(P.propTypes={sliders:a.PropTypes.array,values:a.PropTypes.object,onChange:a.PropTypes.func})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-slider":"react-slider"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/smart-link.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,o=(a=e("react"),a&&a.__esModule?a:{default:a}),n=e("prop-types"),i=e("react-router-dom"),s=e("../config");function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function p(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,t=e.to,r=u(e,["to"]);return/^https?:\/\//.test(t)?o.default.createElement("a",c({href:t},r,{target:"_blank"})):o.default.createElement(i.Link,c({to:t},r))}}],a&&p(r.prototype,a),n&&p(r,n),t}(o.default.PureComponent);r.default=h,"production"!==s.environment&&(h.propTypes={to:n.PropTypes.string})},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js":[function(n,o,e){(function(e){"use strict";var t;t=n("lodash.defaultsdeep"),t&&t.__esModule;var r={local:n("./config/local.js"),production:n("./config/production.js"),staging:n("./config/staging.js")},a=r.production||{};a.default.mbtoken=e.env.MB_TOKEN||a.default.mbtoken,a.default.gaTrackingID=e.env.GA_TRACKING_ID||a.default.gaTrackingID,a.default.mailchimpUrl=e.env.MAILCHIMP_URL||a.default.mailchimpUrl,o.exports=a.default}).call(this,n("_process"))},{"./config/local.js":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config/local.js","./config/production.js":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config/production.js","./config/staging.js":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config/staging.js",_process:"/home/olaf/projects/climatescope-2018/node_modules/process/browser.js","lodash.defaultsdeep":"lodash.defaultsdeep"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/config/local.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default={environment:"development"}},{}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/config/production.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,r,a;t=n,r=e,a=o[e],r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a})}return n}({},CS.config,{environment:"production",policyDbUrl:"https://services.bnef.com/public-api",mediumLatestUrl:"https://cs-medium-latest.herokuapp.com",mailchimpUrl:"https://global-climatescope.us14.list-manage.com/subscribe/post?u=f7420b38cc86494fc1ab6cb31&id=e17a5880bd",gaTrackingID:"UA-56170738-1",mbtoken:"pk.eyJ1IjoiY2xpbWF0ZXNjb3BlIiwiYSI6ImNpdzJmb2dwcjBhMzQyenBia2E1azBjODUifQ.9I6shKgqM1xeBA13VX5a4g"});r.default=a},{}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/config/staging.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default={environment:"staging",gaTrackingID:null}},{}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/main.js":[function(e,t,r){"use strict";e("babel-polyfill"),e("isomorphic-fetch");var a=j(e("react")),n=j(e("react-ga")),o=e("react-dom"),i=e("react-redux"),s=e("react-router-dom"),l=e("./config"),c=j(e("./utils/store")),u=j(e("./utils/history")),p=j(e("./redirect-route")),d=j(e("./views/home")),f=j(e("./views/static-page")),m=j(e("./views/library")),h=j(e("./views/policies-hub")),y=j(e("./views/policies-page")),g=j(e("./views/results")),v=j(e("./views/compare")),b=j(e("./views/geographies-page")),E=j(e("./views/playground")),_=j(e("./views/uhoh"));function j(e){return e&&e.__esModule?e:{default:e}}l.gaTrackingID&&(n.default.initialize(l.gaTrackingID),n.default.pageview(window.location.pathname+window.location.search),u.default.listen(function(e){return n.default.pageview(e.pathname+e.search)}));var w;(0,o.render)(a.default.createElement(function(){return a.default.createElement(i.Provider,{store:c.default},a.default.createElement(s.Router,{history:u.default},a.default.createElement(s.Switch,null,a.default.createElement(p.default,{path:"/en(/:path*)?"}),a.default.createElement(s.Route,{exact:!0,path:"/",component:d.default}),a.default.createElement(s.Route,{exact:!0,path:"/results",component:g.default}),a.default.createElement(s.Route,{exact:!0,path:"/results/:geoIso",component:b.default}),a.default.createElement(s.Route,{exact:!0,path:"/library",component:m.default}),a.default.createElement(s.Route,{path:"/compare/:geoIsos*",component:v.default}),a.default.createElement(s.Route,{exact:!0,path:"/policies/:policyId",component:y.default}),a.default.createElement(s.Route,{exact:!0,path:"/policies",component:h.default}),a.default.createElement(s.Route,{exact:!0,path:"/playground",component:E.default}),a.default.createElement(s.Route,{exact:!0,path:"/:page",component:f.default}),a.default.createElement(s.Route,{path:"*",component:_.default}))))},{store:c.default}),document.querySelector("#app-container")),w=[Element.prototype,CharacterData.prototype,DocumentType.prototype],w.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})},{"./config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./redirect-route":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redirect-route.js","./utils/history":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/history.js","./utils/store":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/store.js","./views/compare":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/compare.js","./views/geographies-page":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/geographies-page.js","./views/home":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/home.js","./views/library":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/library.js","./views/playground":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/playground.js","./views/policies-hub":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/policies-hub.js","./views/policies-page":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/policies-page.js","./views/results":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/results.js","./views/static-page":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/static-page.js","./views/uhoh":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/uhoh.js","babel-polyfill":"babel-polyfill","isomorphic-fetch":"isomorphic-fetch",react:"react","react-dom":"react-dom","react-ga":"react-ga","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/redirect-route.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var a=l(e("react")),n=e("react-router-dom"),o=e("prop-types"),i=e("./config"),s=l(e("./views/uhoh"));function l(e){return e&&e.__esModule?e:{default:e}}var c={"/en":"/","/en/results":"/results","/en/contact":"/contact","/en/about":"/about","/en/methodology":"/methodology","/en/license":"/license","/en/compare":"/compare","/en/off-grid-data-hub":"/off-grid-data-hub","/en/clean-energy-investments":"/clean-energy-investments","/en/capacity-generation":"/capacity-generation","/en/policies":"/policies","/en/download":"/library","/en/summary":"/key-findings","/en/country/argentina":"/results/ar","/en/country/armenia":"/results/am","/en/country/azerbaijan":"/results/az","/en/country/bahamas":"/results/bs","/en/country/bangladesh":"/results/bd","/en/country/barbados":"/results/bb","/en/country/belarus":"/results/by","/en/country/belize":"/results/bz","/en/country/bolivia":"/results/bo","/en/country/botswana":"/results/bw","/en/country/brazil":"/results/br","/en/country/cameroon":"/results/cm","/en/country/chile":"/results/cl","/en/country/china":"/results/cn","/en/country/colombia":"/results/co","/en/country/costa-rica":"/results/cr","/en/country/cote-ivoire":"/results/ci","/en/country/dominican-republic":"/results/do","/en/country/dr-congo":"/results/cd","/en/country/ecuador":"/results/ec","/en/country/egypt":"/results/eg","/en/country/el-salvador":"/results/sv","/en/country/ethiopia":"/results/et","/en/country/georgia":"/results/ge","/en/country/ghana":"/results/gh","/en/country/guatemala":"/results/gt","/en/country/guyana":"/results/gy","/en/country/haiti":"/results/ht","/en/country/honduras":"/results/hn","/en/country/india":"/results/in","/en/country/indonesia":"/results/id","/en/country/jamaica":"/results/jm","/en/country/jordan":"/results/jo","/en/country/kazakhstan":"/results/kz","/en/country/kenya":"/results/ke","/en/country/kyrgyzstan":"/results/kg","/en/country/lebanon":"/results/lb","/en/country/liberia":"/results/lr","/en/country/malawi":"/results/mw","/en/country/mexico":"/results/mx","/en/country/moldova":"/results/md","/en/country/mongolia":"/results/mn","/en/country/mozambique":"/results/mz","/en/country/myanmar":"/results/mm","/en/country/nepal":"/results/np","/en/country/nicaragua":"/results/ni","/en/country/nigeria":"/results/ng","/en/country/pakistan":"/results/pk","/en/country/panama":"/results/pa","/en/country/paraguay":"/results/py","/en/country/peru":"/results/pe","/en/country/russa":"/results/ru","/en/country/rwanda":"/results/rw","/en/country/senegal":"/results/sn","/en/country/sierra-leone":"/results/sl","/en/country/south-africa":"/results/za","/en/country/sri-lanka":"/results/lk","/en/country/suriname":"/results/sr","/en/country/tajikistan":"/results/tj","/en/country/tanzania":"/results/tz","/en/country/trinidad-and-tobago":"/results/tt","/en/country/turkey":"/results/tr","/en/country/turkmenistan":"/results/tm","/en/country/uganda":"/results/ug","/en/country/ukraine":"/results/ua","/en/country/uruguay":"/results/uy","/en/country/uzbekistan":"/results/uz","/en/country/venezuela":"/results/ve","/en/country/vietnam":"/results/vn","/en/country/zambia":"/results/zm","/en/country/zimbabwe":"/results/zw","/en/blog":"https://medium.com/climatescope","/en/blog/2017/11/28/PR":"https://medium.com/climatescope/solar-capacity-jumps-by-more-than-half-in-developing-nations-press-release-1eb8235a6c4","/en/blog/2017/11/06/PR":"https://medium.com/climatescope/efforts-to-address-climate-through-clean-energy-lag-in-emerging-markets-press-release-d5f0e6ca5bf0","/en/blog/2017/06/26/GSMA":"https://medium.com/climatescope/the-symbiotic-relationship-between-payg-solar-and-mobile-money-ecosystems-b98286df0e56","/en/blog/2017/05/31/powerforall":"https://medium.com/climatescope/tapping-into-data-to-tackle-electricity-poverty-46f213ec0793","/en/blog/2017/02/16/SEforAll-Africa-Hub":"https://medium.com/climatescope/a-growing-number-of-african-nations-take-concrete-steps-in-favour-of-renewables-with-the-support-70512624f57e","/en/blog/2017/02/01/Jordan%20MAAN/":"https://medium.com/climatescope/how-renewable-energy-can-bolster-the-economy-in-jordan-2e2421db5f90","/en/blog/2017/01/20/climatescope%20blog%20post-%20can-pay-go-solar-financed":"https://medium.com/climatescope/how-can-pay-as-go-solar-be-financed-f18791648a15","/en/blog/2017/01/16/Climatescope-in-the-media-Europe-and-US":"https://medium.com/climatescope/climatescope-in-the-media-europe-and-us-highlights-bbfd7d59197","/en/blog/2017/01/16/Climatescope-in-the-media-Asia":"https://medium.com/climatescope/climatescope-in-the-media-asia-highlights-a41eb6118f57","/en/blog/2017/01/16/Climatescope-in-the-media-Africa":"https://medium.com/climatescope/climatescope-in-the-media-africa-highlights-bc88aaa324df","/en/blog/2017/01/12/climatescope-blog-Senegal":"https://medium.com/climatescope/senegal-villages-light-up-fast-with-household-solar-products-41b58dca5037","/en/blog/2016/12/21/Climatescope-in-the-media-LAC":"https://medium.com/climatescope/climatescope-in-the-media-latin-america-highlights-f467197c1e4a","/en/blog/2016/12/21/Climatescope-2016-webinar":"https://medium.com/climatescope/climatescope-2016-webinar-clean-energy-in-emerging-markets-970ccd9a55e5","/en/blog/2016/12/20/compare-the-scores":"https://medium.com/climatescope/climatescope-2014-to-2016-compare-the-scores-46a00499166c","/en/blog/2016/12/15/Climatescope2016-launch":"https://medium.com/climatescope/press-release-with-new-pledges-and-new-projects-developing-countries-take-clean-energy-lead-dff167536eb2","/en/blog/2016/12/14/Climatescope2016-launch-pt":"https://medium.com/climatescope/press-release-com-novos-compromissos-e-projetos-pa%C3%ADses-em-desenvolvimento-assumem-a-lideran%C3%A7a-9d34b3c58c63","/en/blog/2016/12/14/Climatescope2016-launch-es":"https://medium.com/climatescope/press-release-con-nuevos-compromisos-y-proyectos-los-pa%C3%ADses-en-v%C3%ADas-de-desarrollo-adquieren-una-578c35c65c79","/en/blog/2016/12/13/Climatescope2015-data-visual":"https://medium.com/climatescope/discover-the-highlights-of-last-years-climatescope-80a3e33038c2","/en/blog/2016/06/02/climatescope-update-westafrica":"https://medium.com/climatescope/mixed-results-for-west-africa-in-climatescope-2015-7605ac6564b7","/en/blog/2016/03/15/climatescope-update-Uganda-GetFit":"https://medium.com/climatescope/how-ugandas-get-fit-policy-attracted-clean-energy-investors-160047604ed0","/en/blog/2016/02/24/climatescope-blog-South-Africa":"https://medium.com/climatescope/another-year-in-the-top-5-for-south-africa-df5b1b870236","/en/blog/2015/11/23/climatescope-2015-launches":"https://medium.com/climatescope/climatescope-2015-goes-live-928e544093ad","/en/insights/risk-management":"https://medium.com/climatescope/how-to-mitigate-renewables-risks-in-emerging-markets-514b6afade97","/en/insights/frontier-power":"https://medium.com/climatescope/distributed-energy-in-emerging-markets-a6319604e947","/en/insights/energy-policy":"https://medium.com/climatescope/policies-for-the-energy-transition-lessons-learned-in-emerging-markets-ff9aa3d78b78","/en/insights/emerging-markets-investment":"https://medium.com/climatescope/emerging-markets-clean-energy-investment-4b7b37f8e3de","/en/insights/climate-policy":"https://medium.com/climatescope/clean-energy-and-the-paris-promises-e5116c1c7000","/en/off-grid-quarterly/q4-2018":"https://medium.com/climatescope/4q-2018-off-grid-and-mini-grid-market-outlook-1dace7fc9087","/en/off-grid-quarterly/q3-2018":"https://medium.com/climatescope/3q-2018-off-grid-and-mini-grid-market-outlook-70ed47656c31","/en/off-grid-quarterly/q2-2018":"https://medium.com/climatescope/2q-2018-off-grid-and-mini-grid-market-outlook-4dcce9c0215e","/en/off-grid-quarterly/1q-2018":"https://medium.com/climatescope/1q-2018-off-grid-and-mini-grid-market-outlook-329335ed367f","/en/off-grid-quarterly/q4-2017":"https://medium.com/climatescope/4q-2017-off-grid-and-mini-grid-market-outlook-52da3e6826f1","/en/off-grid-quarterly/q3-2017":"https://medium.com/climatescope/3q-2017-off-grid-and-mini-grid-market-outlook-21c2542563d","/en/off-grid-quarterly/q2-2017":"https://medium.com/climatescope/2q-2017-off-grid-and-mini-grid-market-outlook-d35f54b66020","/en/off-grid-quarterly/q1-2017":"https://medium.com/climatescope/1q-2017-off-grid-and-mini-grid-market-outlook-4b6fd80d18eb"};function u(){return a.default.createElement(n.Route,{render:function(e){var t=e.location.pathname.replace(/\/$/,""),r=c[t];return r?r.match(/^https?:/)?(window.location=r,null):a.default.createElement(n.Redirect,{to:r}):a.default.createElement(s.default,null)}})}"production"!==i.environment&&(u.propTypes={location:o.PropTypes.object})},{"./config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./views/uhoh":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/uhoh.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/geographies.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidateGeographies=function(){return{type:d}},r.requestGeographies=f,r.receiveGeographies=m,r.fetchGeographies=function(){return(0,o.fetchDispatchCacheFactory)({statePath:"geographies.list",url:"".concat(i.baseurl,"/api/results.json"),requestFn:f,receiveFn:m})},r.invalidateGeography=function(e){return{type:v,id:e}},r.requestGeography=b,r.receiveGeography=E,r.fetchGeography=function(e){return(0,o.fetchDispatchCacheFactory)({statePath:["geographies","individualGeographies",e],url:"".concat(i.baseurl,"/api/results/").concat(e.toLowerCase(),".json"),requestFn:b.bind(this,e),receiveFn:E.bind(this,e)})},r.invalidateGeographiesMeta=function(){return{type:P}},r.requestGeographiesMeta=k,r.receiveGeographiesMeta=O,r.fetchGeographiesMeta=function(){return(0,o.fetchDispatchCacheFactory)({statePath:"geographies.meta",url:"".concat(i.baseurl,"/api/geographies.json"),requestFn:k,receiveFn:O,mutator:function(e){return e.map(function(e){if(!e.bbox)throw new Error("No bbox found for "+e.name);var t=e.bbox[0],r=e.bbox[1],a=e.bbox[2],n=e.bbox[3],o=[t,r],i=[t,n],s=[a,n],l=[a,r];return"ru"===e.iso?u({},e,{bounds:[o,s],center:[93.8671875,64.01449619484472]}):u({},e,{bounds:[o,s],center:(0,c.default)({type:"Feature",geometry:{type:"Polygon",coordinates:[[o,l,s,i,o]]}}).geometry.coordinates})})}})},r.invalidateChartsMeta=function(){return{type:C}},r.requestChartsMeta=A,r.receiveChartsMeta=x,r.fetchChartsMeta=function(){return(0,o.fetchDispatchCacheFactory)({statePath:"meta.charts",url:"".concat(i.baseurl,"/api/chart-meta.json"),requestFn:A,receiveFn:x})},r.default=r.INVALIDATE_CHARTS_META=r.RECEIVE_CHARTS_META=r.REQUEST_CHARTS_META=r.INVALIDATE_GEOGRAPHIES_META=r.RECEIVE_GEOGRAPHIES_META=r.REQUEST_GEOGRAPHIES_META=r.INVALIDATE_GEOGRAPHY=r.RECEIVE_GEOGRAPHY=r.REQUEST_GEOGRAPHY=r.INVALIDATE_GEOGRAPHIES=r.RECEIVE_GEOGRAPHIES=r.REQUEST_GEOGRAPHIES=void 0;var a,n=e("redux"),o=e("./utils"),i=e("../config"),c=(a=e("@turf/center"),a&&a.__esModule?a:{default:a});function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){s(t,e,r[e])})}return t}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="REQUEST_GEOGRAPHIES";r.REQUEST_GEOGRAPHIES=l;var p="RECEIVE_GEOGRAPHIES";r.RECEIVE_GEOGRAPHIES=p;var d="INVALIDATE_GEOGRAPHIES";function f(){return{type:l}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:p,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_GEOGRAPHIES=d;var h={fetching:!1,fetched:!1,error:null,data:[]};var y="REQUEST_GEOGRAPHY";r.REQUEST_GEOGRAPHY=y;var g="RECEIVE_GEOGRAPHY";r.RECEIVE_GEOGRAPHY=g;var v="INVALIDATE_GEOGRAPHY";function b(e){return{type:y,id:e}}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:g,id:e,data:t,error:r,receivedAt:Date.now()}}r.INVALIDATE_GEOGRAPHY=v;var _={};var j="REQUEST_GEOGRAPHIES_META";r.REQUEST_GEOGRAPHIES_META=j;var w="RECEIVE_GEOGRAPHIES_META";r.RECEIVE_GEOGRAPHIES_META=w;var P="INVALIDATE_GEOGRAPHIES_META";function k(){return{type:j}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:w,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_GEOGRAPHIES_META=P;var S={fetching:!1,fetched:!1,error:null,data:[]};var T="REQUEST_CHARTS_META";r.REQUEST_CHARTS_META=T;var N="RECEIVE_CHARTS_META";r.RECEIVE_CHARTS_META=N;var C="INVALIDATE_CHARTS_META";function A(){return{type:T}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:N,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_CHARTS_META=C;var L={fetching:!1,fetched:!1,error:null,data:{}};var M=(0,n.combineReducers)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"GEOGRAPHIES")},individualGeographies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"GEOGRAPHY")},meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"GEOGRAPHIES_META")},chartsMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return(0,o.baseAPIReducer)(e,t,"CHARTS_META")}});r.default=M},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/utils.js","@turf/center":"@turf/center",redux:"redux"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/index.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.reducers=void 0;var a=e("redux"),n=l(e("./static-page")),o=l(e("./policies")),i=l(e("./geographies")),s=l(e("./medium"));function l(e){return e&&e.__esModule?e:{default:e}}var c={staticPages:n.default,policies:o.default,geographies:i.default,medium:s.default};r.reducers=c;var u=(0,a.combineReducers)(c);r.default=u},{"./geographies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/geographies.js","./medium":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/medium.js","./policies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/policies.js","./static-page":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/static-page.js",redux:"redux"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/medium.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidateMediumPosts=function(){return{type:l}},r.requestMediumPosts=c,r.receiveMediumPosts=u,r.fetchMediumPosts=function(){return(0,n.fetchDispatchCacheFactory)({statePath:"medium.postList",url:o.mediumLatestUrl,requestFn:c,receiveFn:u})},r.default=r.INVALIDATE_MEDIUM_POSTS=r.RECEIVE_MEDIUM_POSTS=r.REQUEST_MEDIUM_POSTS=void 0;var a=e("redux"),n=e("./utils"),o=e("../config"),i="REQUEST_MEDIUM_POSTS";r.REQUEST_MEDIUM_POSTS=i;var s="RECEIVE_MEDIUM_POSTS";r.RECEIVE_MEDIUM_POSTS=s;var l="INVALIDATE_MEDIUM_POSTS";function c(){return{type:i}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:s,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_MEDIUM_POSTS=l;var p={fetching:!1,fetched:!1,error:null,data:[]};var d=(0,a.combineReducers)({postList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return(0,n.baseAPIReducer)(e,t,"MEDIUM_POSTS")}});r.default=d},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/utils.js",redux:"redux"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/policies.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidatePolicyFilters=function(){return{type:d}},r.requestPolicyFilters=f,r.receivePolicyFilters=m,r.fetchPolicyFilters=function(){return(0,s.fetchDispatchCacheFactory)({statePath:"policies.filters",url:"".concat(i.policyDbUrl,"/policy/filter"),requestFn:f,receiveFn:m,mutator:function(e){return{country:(0,l.objectToArray)(e.country),status:(0,l.objectToArray)(e.status),mechanism:(0,l.objectToArray)(e.mechanism)}}})},r.invalidatePolicies=function(){return{type:v}},r.requestPolicies=b,r.receivePolicies=E,r.fetchPolicies=function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){c(t,e,r[e])})}return t}({limit:50,offset:0},e);return(0,s.fetchDispatchCacheFactory)({statePath:"policies.policiesList",url:"".concat(i.policyDbUrl,"/policy?").concat(o.default.stringify(t)),requestFn:b,receiveFn:E,mutator:function(e){return{meta:{total:e.metaData.totalResults,page:t.offset/t.limit+1,limit:t.limit},results:e.listData}}})},r.invalidatePolicy=function(e){return{type:P,id:e}},r.requestPolicy=k,r.receivePolicy=O,r.fetchPolicy=function(e){return(0,s.fetchDispatchCacheFactory)({statePath:["policies","individualPolicies",e],url:"".concat(i.policyDbUrl,"/policy/").concat(e),requestFn:k.bind(this,e),receiveFn:O.bind(this,e)})},r.invalidatePolicyCountryStats=function(e){return{type:C,id:e}},r.requestPolicyCountryStats=A,r.receivePolicyCountryStats=x,r.fetchPolicyCountryStats=function(e){return(0,s.fetchDispatchCacheFactory)({statePath:["policies","countryStats",e],url:"".concat(i.policyDbUrl,"/policy?country=").concat(e,"&limit=999"),requestFn:A.bind(this,e),receiveFn:x.bind(this,e),mutator:function(e){var t=e.listData.length,a=[{count:0,name:"Auctions and tenders",id:"Auctions and tenders"},{count:0,name:"Energy target",id:"Energy target"},{count:0,name:"Feed-in tariff or premium",id:"Feed-in tariff or premium"},{count:0,name:"Net metering",id:"Net metering"},{count:0,name:"Tax-based Mechanism",id:"Tax-based Mechanism"},{count:0,name:"Utility regulation",id:"Utility regulation"}];return e.listData.forEach(function(e){null!==e.type&&"Expired"!==e.status.name&&e.type.mechanism.forEach(function(e){var t=e.name,r=a.find(function(e){return e.id===t});r&&r.count++})}),{total:t,mechanisms:a}}})},r.default=r.INVALIDATE_POLICY_COUNTRY_STATS=r.RECEIVE_POLICY_COUNTRY_STATS=r.REQUEST_POLICY_COUNTRY_STATS=r.INVALIDATE_POLICY=r.RECEIVE_POLICY=r.REQUEST_POLICY=r.INVALIDATE_POLICIES=r.RECEIVE_POLICIES=r.REQUEST_POLICIES=r.INVALIDATE_POLICY_FILTERS=r.RECEIVE_POLICY_FILTERS=r.REQUEST_POLICY_FILTERS=void 0;var a,n=e("redux"),o=(a=e("qs"),a&&a.__esModule?a:{default:a}),i=e("../config"),s=e("./utils"),l=e("../utils/array");function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u="REQUEST_POLICY_FILTERS";r.REQUEST_POLICY_FILTERS=u;var p="RECEIVE_POLICY_FILTERS";r.RECEIVE_POLICY_FILTERS=p;var d="INVALIDATE_POLICY_FILTERS";function f(){return{type:u}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:p,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_POLICY_FILTERS=d;var h={fetching:!1,fetched:!1,error:null,data:{}};var y="REQUEST_POLICIES";r.REQUEST_POLICIES=y;var g="RECEIVE_POLICIES";r.RECEIVE_POLICIES=g;var v="INVALIDATE_POLICIES";function b(){return{type:y}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:g,data:e,error:t,receivedAt:Date.now()}}r.INVALIDATE_POLICIES=v;var _={fetching:!1,fetched:!1,error:null,data:{}};var j="REQUEST_POLICY";r.REQUEST_POLICY=j;var w="RECEIVE_POLICY";r.RECEIVE_POLICY=w;var P="INVALIDATE_POLICY";function k(e){return{type:j,id:e}}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:w,id:e,data:t,error:r,receivedAt:Date.now()}}r.INVALIDATE_POLICY=P;var S={};var T="REQUEST_POLICY_COUNTRY_STATS";r.REQUEST_POLICY_COUNTRY_STATS=T;var N="RECEIVE_POLICY_COUNTRY_STATS";r.RECEIVE_POLICY_COUNTRY_STATS=N;var C="INVALIDATE_POLICY_COUNTRY_STATS";function A(e){return{type:T,id:e}}function x(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:N,id:e,data:t,error:r,receivedAt:Date.now()}}r.INVALIDATE_POLICY_COUNTRY_STATS=C;var L={};var M=(0,n.combineReducers)({filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return(0,s.baseAPIReducer)(e,t,"POLICY_FILTERS")},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return(0,s.baseAPIReducer)(e,t,"POLICIES")},individualPolicies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return(0,s.baseAPIReducer)(e,t,"POLICY")},countryStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return(0,s.baseAPIReducer)(e,t,"POLICY_COUNTRY_STATS")}});r.default=M},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","./utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/utils.js",qs:"qs",redux:"redux"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/static-page.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidatePage=function(e){return{type:s,id:e}},r.requestPage=l,r.receivePage=c,r.fetchPage=function(e){return(0,n.fetchDispatchCacheFactory)({statePath:["staticPages",e],url:"".concat(a.baseurl,"/api/").concat(e,".json"),requestFn:l.bind(this,e),receiveFn:c.bind(this,e)})},r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return(0,n.baseAPIReducer)(e,t,"PAGE")},r.INVALIDATE_PAGE=r.RECEIVE_PAGE=r.REQUEST_PAGE=void 0;var a=e("../config"),n=e("./utils"),o="REQUEST_PAGE";r.REQUEST_PAGE=o;var i="RECEIVE_PAGE";r.RECEIVE_PAGE=i;var s="INVALIDATE_PAGE";function l(e){return{type:o,id:e}}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i,id:e,data:t,error:r,receivedAt:Date.now()}}r.INVALIDATE_PAGE=s;var u={}},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","./utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/utils.js"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/utils.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fetchJSON=m,r.fetchDispatchCacheFactory=function(e){var i=e.statePath,s=e.url,l=e.requestFn,c=e.receiveFn,u=e.mutator,p=e.__devDelay;return u=u||function(e){return e},r=n(regeneratorRuntime.mark(function e(t,r){var a,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,d.default)(r(),i),!a||!a.fetched||a.error){e.next=6;break}if(p)return e.next=5,f(p);e.next=5;break;case 5:return e.abrupt("return",t(c(a.data)));case 6:return t(l()),e.prev=7,e.next=10,m(s);case 10:if(n=e.sent,o=u(n),p)return e.next=15,f(p);e.next=15;break;case 15:return e.abrupt("return",t(c(o)));case 18:if(e.prev=18,e.t0=e.catch(7),p)return e.next=23,f(p);e.next=23;break;case 23:return console.log("error",e.t0),e.abrupt("return",t(c(null,e.t0)));case 25:case"end":return e.stop()}},e,this,[[7,18]])})),function(e,t){return r.apply(this,arguments)};var r},r.baseAPIReducer=function(e,t,r){var a="undefined"!==typeof t.id;switch(t.type){case"INVALIDATE_".concat(r):return a?i({},e,s({},t.id,e)):e;case"REQUEST_".concat(r):var n={fetching:!0,fetched:!1,data:{}};return a?i({},e,s({},t.id,n)):n;case"RECEIVE_".concat(r):var o={fetching:!1,fetched:!0,receivedAt:t.receivedAt,data:{},error:null};return t.error?o.error=t.error:o.data=t.data,a?i({},e,s({},t.id,o)):o}return e};var a,d=(a=e("lodash.get"),a&&a.__esModule?a:{default:a});function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){s(t,e,r[e])})}return t}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,a,n,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(a,n)}function n(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var a=s.apply(e,i);function n(e){l(a,t,r,n,o,"next",e)}function o(e){l(a,t,r,n,o,"throw",e)}n(void 0)})}}function f(t){return new Promise(function(e){setTimeout(e,t)})}function m(e,t){return o.apply(this,arguments)}function o(){return o=n(regeneratorRuntime.mark(function e(t,r){var a,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,r);case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,a.status>=400)throw o=n.message||a.statusText||"Error with code ".concat(a.status),i=new Error(o),i.statusCode=a.status,i.data=n,i;e.next=13;break;case 13:return e.abrupt("return",n);case 16:throw e.prev=16,e.t0=e.catch(0),console.log("fetchJSON error",e.t0),e.t0;case 20:case"end":return e.stop()}},e,this,[[0,16]])})),o.apply(this,arguments)}},{"lodash.get":"lodash.get"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shuffleArray=function(e){var t=(n=e,function(e){if(Array.isArray(e))return e}(n)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),r=t.slice(0),a=r.length;var n;for(;a;){var o=Math.floor(Math.random()*a--),i=[r[o],r[a]];r[a]=i[0],r[o]=i[1]}return r},r.objectToArray=function(t){return Object.keys(t).map(function(e){return(0,a.isPlainObject)(t[e])?n({},t[e],{__key:e}):t[e]})},r.initializeArrayWithRange=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array.from({length:Math.ceil((e-r+1)/a)},function(e,t){return t*a+r})},r.reverse=function(e){return e.slice().reverse()},r.sort=function(e,t){return e.slice().sort(t)},r.splitArray=void 0;var a=e("./utils");function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){o(t,e,r[e])})}return t}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.splitArray=function(e,a){return e.reduce(function(e,t,r){return a(t,r)?n({},e,{left:e.left.concat(t)}):n({},e,{right:e.right.concat(t)})},{left:[],right:[]})}},{"./utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/constants.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.editions=r.tools=r.medium=r.downloadData=r.regions=void 0;r.regions=[{id:"all",name:"All regions",bounds:[[-340.202242002562,-42.50272621540306],[406.49655977498696,63.19843012790582]]},{id:"asia",name:"Asia",bounds:[[-147.09936650354584,-14.15191021774936],[345.53812145152574,57.674958540828726]]},{id:"africa",name:"Africa",bounds:[[-199.8100381343629,-35.81433484642947],[259.83699099554127,38.00623857719981]]},{id:"eu",name:"Europe",bounds:[[-96.68677408937766,34.162360529975686],[228.33275716064105,67.54241707817937]]},{id:"lac",name:"Latin America and The Caribbean",bounds:[[-344.1508065387974,-54.042346370755524],[221.74106548508882,31.70087717612357]]},{id:"me",name:"Middle East",bounds:[[-37.8641930063429,13.86496262709737],[124.64557261866406,38.775672115626094]]}];r.downloadData={current:{report:{url:"/assets/data/reports/climatescope-2018-report-en.pdf",title:"Download full report in PDF",label:"2018",size:"3Mb"},model:{url:"/assets/data/model/climatescope-2018.xlsm",title:"Download Climatescope model in Excel format",label:"2018 (Excel)",size:"14Mb"}},previous:[{report:{url:"/assets/data/reports/climatescope-2017-report-en.pdf",title:"Download full report in PDF",label:"2017",size:"5Mb"},model:{url:"/assets/data/model/climatescope-2017.xlsm",title:"Download Climatescope model in Excel format",label:"2015 (Excel)",size:"8Mb"}},{report:{url:"/assets/data/reports/climatescope-2016-report-en.pdf",title:"Download full report in PDF",label:"2016",size:"9Mb"},model:{url:"/assets/data/model/climatescope-2016.xlsm",title:"Download Climatescope model in Excel format",label:"2016 (Excel)",size:"6Mb"}},{report:{url:"/assets/data/reports/climatescope-2015-report-en.pdf",title:"Download full report in PDF",label:"2015",size:"6Mb"},model:{url:"/assets/data/model/climatescope-2015.xlsm",title:"Download Climatescope model in Excel format",label:"2015 (Excel)",size:"6Mb"}},{report:{url:"/assets/data/reports/climatescope-2014-report-en.pdf",title:"Download full report in PDF",label:"2014",size:"6Mb"},model:{url:"/assets/data/model/climatescope-2014.xlsm",title:"Download Climatescope model in Excel format",label:"2014 (Excel)",size:"5Mb"}},{report:{url:"/assets/data/reports/climatescope-2013-report-en.pdf",title:"Download full report in PDF",label:"2013",size:"10Mb"},model:{url:"/assets/data/model/climatescope-2013.xlsm",title:"Download Climatescope model in Excel format",label:"2013 (Excel)",size:"1Mb"}},{report:{url:"/assets/data/reports/climatescope-2012-report-en.pdf",title:"Download full report in PDF",label:"2012",size:"9Mb"},model:null}]};r.medium={pages:[{url:"https://medium.com/climatescope/off-grid-quarterly",title:"View Off Grid Quarterly section",label:"Off Grid Quarterly",description:"BloombergNEF's quarterly review of business and policy activity in the off-grid and weak-grid sectors across the globe."},{url:"https://medium.com/climatescope/insights",title:"View insights section",label:"Insights",description:"Series of research notes on what drives the energy transition globally with a focus on emerging markets. Read about how developers can mitigate risk, what tools governments have to accelerate renewables deployment, what role clean energy can play in increasing access to power, and more."},{url:"https://medium.com/climatescope/updates",title:"View updates section",label:"Updates",description:"Archive of updates and posts from BloombergNEF and partner organisations."}]};r.tools=[{url:"/compare",title:"View results side by side",label:"Geography Comparison",description:"Pick any two nations, see how they compare",image:"feat-tool-thumb--compare.jpg"},{url:"/clean-energy-investments",title:"Use the Clean Energy Investment",label:"Clean Energy Investment",description:"Who backs clean energy in emerging markets?",image:"feat-tool-thumb--clean-energy-investments.jpg"},{url:"/capacity-generation",title:"Use the Capacity Generation",label:"Capacity Generation",description:"Who has the most (and least) clean energy today?",image:"feat-tool-thumb--capacity-generation.jpg"},{url:"/policies",title:"Browse the policy database",label:"Policies",description:"800+ policies to improve clean energy development",image:"feat-tool-thumb--policies.jpg"}];r.editions=[{url:"http://2014.global-climatescope.org/en/",title:"View 2014 edition of Climatescope",label:"2014"},{url:"http://2015.global-climatescope.org/en/",title:"View 2015 edition of Climatescope",label:"2015"},{url:"http://2016.global-climatescope.org/en/",title:"View 2016 edition of Climatescope",label:"2016"},{url:"http://2017.global-climatescope.org/en/",title:"View 2017 edition of Climatescope",label:"2017"}]},{}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/geographies-layout.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compareLayoutDef=r.default=void 0;var a=["Biomass & Waste","Geothermal","Small Hydro","Solar","Wind"],n=[{id:"power-market",title:"Power Market",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"installedCapacity",size:"large",mainDataLayers:a},{id:"utilityPrivatisation",size:"small"},{id:"concentrationGeneration",size:"small"},{id:"powerPlantFleet",size:"small"},{id:"powerGeneration",size:"medium",mainDataLayers:a}]},{id:"clean-energy-policy",title:"Clean Energy Policy",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"availabilityPolicies",size:"medium"},{id:"gapToTarget",size:"small"},{id:"upcomingAuctions",size:"small"}]},{id:"clean-energy-investment",title:"Clean Energy Investment",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"cleanEnergyInvestment",size:"medium",mainDataLayers:[]},{id:"foreignInvestment",size:"small"},{id:"availabilityFinance",size:"small"}]},{id:"power-prices-and-lcoes",title:"Price environment",type:"linear",areaAlpha:[{id:"sectionHeader"}],areaBeta:[{id:"sectorWholesale",size:"small"},{id:"wholesaleDistortions",size:"small"},{id:"electricityPrice",size:"small"}]},{id:"doing-business",title:"Doing Business",type:"split",areaAlpha:[{id:"sectionHeader"},{id:"doingBusinessFeatures",size:"large"}],areaBeta:[{id:"averageVAT",size:"small"},{id:"importDuties",size:"small"}]},{id:"barriers",title:"Barriers",type:"split",areaAlpha:[{id:"sectionHeader"},{id:"barriersFeatures",size:"large"}],areaBeta:[{id:"currencyVariation",size:"small"},{id:"offtakerRisk",size:"small"}]}];r.default=n;var o=[{id:"installedCapacity",size:"large",mainDataLayers:a},{id:"utilityPrivatisation",size:"large"},{id:"concentrationGeneration",size:"large"},{id:"powerPlantFleet",size:"large"},{id:"powerGeneration",size:"large",mainDataLayers:a},{id:"availabilityPolicies",size:"large"},{id:"gapToTarget",size:"large"},{id:"upcomingAuctions",size:"large"},{id:"cleanEnergyInvestment",size:"large",mainDataLayers:[]},{id:"foreignInvestment",size:"large"},{id:"availabilityFinance",size:"large"},{id:"sectorWholesale",size:"large"},{id:"wholesaleDistortions",size:"large"},{id:"electricityPrice",size:"large"},{id:"averageVAT",size:"large"},{id:"importDuties",size:"large"},{id:"currencyVariation",size:"large"},{id:"offtakerRisk",size:"large"}];r.compareLayoutDef=o},{}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/history.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("history"),n=(0,a.createBrowserHistory)();r.default=n},{history:"/home/olaf/projects/climatescope-2018/node_modules/history/index.js"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/mapbox-react-control.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,n=(a=e("react"),a&&a.__esModule?a:{default:a}),o=e("react-dom");function i(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),!e)throw new Error("Missing component");this.component=e,this.props=t,this._container=null}var e,t,a;return e=r,t=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,r,a;t=n,r=e,a=o[e],r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a})}return n}({},this.props,e);(0,o.render)(n.default.createElement(this.component,t),this._container)}},{key:"onAdd",value:function(e){return this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl",this.render(),this._container}},{key:"onRemove",value:function(){(0,o.unmountComponentAtNode)(this._container),this._container.parentNode.removeChild(this._container)}}],t&&i(e.prototype,t),a&&i(e,a),r}();r.default=s},{react:"react","react-dom":"react-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js":[function(e,t,r){"use strict";function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}Object.defineProperty(r,"__esModule",{value:!0}),r.sumBy=function(e,n){return e.reduce(function(e,t,r,a){return e+("function"===typeof n?n(t,r,a):t[n])},0)},r.round=c,r.distributedDivision=function(e,t){var r=Math.floor(e/t),a=e%t;return Array.from({length:t}).map(function(e,t){return t<a?r+1:r})},r.formatTousands=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(isNaN(e)||!e&&0!==e)return"--";var a=Number(c(e,t)).toString().split("."),n=(s=a,l=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=n[0],i=n[1];var s,l;return o=o.replace(/\B(?=(\d{3})+(?!\d))/g," "),i=(i||"").substr(0,t),i=r?"".concat(i).concat(function(e,t){for(var r="",a=0;a<t;a++)r+=e+"";return r}(0,t-i.length)):i,""!==i?"".concat(o,".").concat(i):o}},{}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/qs-state.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a(e("qs")),c=a(e("lodash.set")),s=a(e("lodash.get"));function a(e){return e&&e.__esModule?e:{default:e}}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){u(t,e,r[e])})}return t}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.definition=e}var e,r,a;return e=t,r=[{key:"setDefinition",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.definition[e]=r?t:l({},this.definition[e],t),this}},{key:"getState",value:function(e){var s=this,l=i.default.parse(e),t=Object.keys(this.definition);return t.reduce(function(e,t){var r=s.definition[t],a=r.hydrator||function(e){return e},n=a(l[t]),o=function(e){return!!e};r.validator&&"function"===typeof r.validator.indexOf?o=function(e){return-1!==r.validator.indexOf(e)}:"function"===typeof r.validator&&(o=r.validator);var i=o(n)?n:r.default;return(0,c.default)(e,r.accessor,i)},{})}},{key:"getQs",value:function(n){var o=this,e=Object.keys(this.definition),t=e.reduce(function(e,t){var r=o.definition[t],a=(0,s.default)(n,r.accessor,r.default);return a!==r.default?l({},e,u({},t,a)):e},{});return i.default.stringify(t)}}],r&&n(e.prototype,r),a&&n(e,a),t}();r.default=o},{"lodash.get":"lodash.get","lodash.set":"lodash.set",qs:"qs"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/store.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("redux"),n=l(e("redux-thunk")),o=e("redux-logger"),i=l(e("../config")),s=l(e("../redux"));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.createLogger)({level:"info",collapsed:!0,predicate:function(e,t){return"production"!==i.default.environment}}),u="production"!==i.default.environment&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.compose,p=(0,a.createStore)(s.default,{},u((0,a.applyMiddleware)(n.default,c))),d=p;r.default=d},{"../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/index.js",redux:"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/string.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.padNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e.toString();for(;e.length<t;)e="0".concat(e);return e},r.reactNl2Br=function(e){var r=/(\r\n|\r|\n)/g;{if("number"===typeof e)return e;if("string"!==typeof e)return""}return e.split(r).map(function(e,t){return e.match(r)?n.default.createElement("br",{key:t}):e})},r.equalsIgnoreCase=function(e,t){return e="string"===typeof e?e.toLowerCase():e,t="string"===typeof t?t.toLowerCase():t,e===t};var a,n=(a=e("react"),a&&a.__esModule?a:{default:a})},{react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPlainObject=function(e){return!!e&&"object"===o(e)&&e.constructor===Object},r.getFromState=function(e,t){return(0,n.default)(e,t,{fetched:!1,fetching:!1,data:{},error:null})},r.wrapApiResult=function(e){var t=e.fetched,r=e.fetching,a=e.data,n=e.error,o=t&&!r;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){i(t,e,r[e])})}return t}({raw:function(){return e},isReady:function(){return o},hasError:function(){return o&&!!n},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o?a.results||a:e},getMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o?a.meta:e}},e)},r.dateFromYear=void 0;var a,n=(a=e("lodash.get"),a&&a.__esModule?a:{default:a});function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}r.dateFromYear=function(e){return new Date("".concat(e,"-01-31"))}},{"lodash.get":"lodash.get"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("react")),a=e("prop-types"),s=n(e("classnames")),l=n(e("react-tooltip")),c=e("../config"),u=n(e("../components/page-header")),p=n(e("../components/page-footer")),d=n(e("../components/meta-tags"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){this.props.location&&this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props,t=e.pageTitle,r=e.className,a=e.location,n=e.children,o=t?"".concat(t," — "):"";return i.default.createElement("div",{className:(0,s.default)("page",r)},i.default.createElement(d.default,{title:"".concat(o).concat(c.appTitle," ").concat(c.appEdition),description:c.appDescription,imgUrl:"".concat(c.baseurl,"/assets/graphics/meta/default-meta-image.png")},i.default.createElement("meta",{name:"twitter:card",content:"summary"}),i.default.createElement("meta",{name:"twitter:site",content:"@BloombergNEF"}),i.default.createElement("meta",{property:"og:site_name",content:c.appTitle}),i.default.createElement("meta",{property:"og:url",content:c.baseurl}),i.default.createElement("meta",{property:"og:type",content:"website"})),i.default.createElement(u.default,{location:a}),i.default.createElement("main",{className:"page__body",role:"main"},n),i.default.createElement(l.default,{id:"popover-compact",effect:"solid",type:"custom",className:"popover popover--compact",wrapper:"article",getContent:function(e){return i.default.createElement("div",{className:"popover__contents"},e)}}),i.default.createElement(p.default,{location:a}))}}],a&&f(r.prototype,a),n&&f(r,n),t}(i.default.Component);"production"!==c.environment&&(g.propTypes={className:a.PropTypes.string,pageTitle:a.PropTypes.string,location:a.PropTypes.object,children:a.PropTypes.node});var v=g;r.default=v},{"../components/meta-tags":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/meta-tags.js","../components/page-footer":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/page-footer.js","../components/page-header":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/page-header.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-tooltip":"react-tooltip"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/compare.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var E=g(e("react")),a=e("prop-types"),n=e("react-redux"),o=e("react-router-dom"),_=g(e("classnames")),i=e("../config"),s=e("../redux/geographies"),l=e("../utils/utils"),c=e("../utils/array"),u=e("../utils/math"),p=e("../utils/string"),d=e("../utils/geographies-layout"),j=e("../components/geography-params"),f=g(e("./app")),m=g(e("../components/share")),h=g(e("../components/form-select-control")),y=e("../components/loading-skeleton"),w=g(e("../components/on-grid")),P=e("../components/parameters"),k=g(e("../components/con--availability-polices")),O=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}}(e("../components/area-chart"));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){T(t,e,r[e])})}return t}function b(e){return b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function x(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),e}function L(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?D(e):t}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("/").map(function(e){return e.toLowerCase()});return[t[0]||"none",t[1]||"none"]},F=function(e){function r(e){var t;return C(this,r),t=L(this,M(r).call(this,e)),t.onCompareClick=t.onCompareClick.bind(D(D(t))),t.onCompareReset=t.onCompareReset.bind(D(D(t))),t.state=t.getInitialState(),t}return I(r,e),x(r,[{key:"getInitialState",value:function(){return{geographies:G()}}},{key:"componentDidMount",value:function(){var n=this;Promise.all([this.props.fetchChartsMeta(),this.props.fetchGeographies()]).then(function(){if(n.props.geographiesList.isReady()){var e,t,r=n.props.geographiesList.getData(),a=(e=r,t=n.props.match.params.geoIsos,G(t).map(function(t){return e.find(function(e){return e.iso===t})?t:"none"}));n.setState({geographies:a}),n.setCompareUrl(a,"replace"),a.forEach(function(e){"none"!==e&&n.props.fetchGeography(e)})}})}},{key:"setCompareUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";e.every(function(e){return"none"===e})?this.props.history[t]("/compare"):this.props.history[t]("/compare/".concat(e.join("/")))}},{key:"onGeoSelectValueChange",value:function(e,t){var r=t.target.value;this.setState({geographies:Object.assign(N(this.state.geographies),T({},e,r))})}},{key:"onCompareClick",value:function(e){var t=this;e.preventDefault(),this.setCompareUrl(this.state.geographies),this.state.geographies.forEach(function(e){"none"!==e&&t.props.fetchGeography(e)})}},{key:"onCompareReset",value:function(e){var t=this;e.preventDefault(),this.setState(this.getInitialState(),function(){t.setCompareUrl(t.state.geographies)})}},{key:"renderFatalError",value:function(){return this.props.geographiesList.hasError()?E.default.createElement("p",null,"Something went wrong. Try again later."):null}},{key:"renderControls",value:function(){var t=this;if(this.props.geographiesList.hasError())return null;var e=this.props.geographiesList.getData([]),r=[{value:"none",label:"Choose location"}].concat(N(e.map(function(e){return{value:e.iso,label:e.name}})));return E.default.createElement("form",{className:"form controls compare-controls"},(0,c.initializeArrayWithRange)(1).map(function(e){return E.default.createElement(h.default,{key:"geo-".concat(e),id:"geo-".concat(e),label:"Geography",options:r,selectedOption:t.state.geographies[e],onChange:t.onGeoSelectValueChange.bind(t,e)})}),E.default.createElement("div",{className:"form__actions"},E.default.createElement("button",{className:"controls__button-reset",onClick:this.onCompareReset,title:"Reset selection"},E.default.createElement("span",null,"Reset")),E.default.createElement("button",{className:"controls__button-submit",onClick:this.onCompareClick,title:"Apply selection"},E.default.createElement("span",null,"Compare"))))}},{key:"renderGeographies",value:function(){var e=this.props,t=e.match,r=e.geographiesList,a=e.geoA,n=e.geoB;if(r.hasError())return null;var o=G(t.params.geoIsos);return E.default.createElement(E.default.Fragment,null,E.default.createElement("div",{className:"col col--diptic prose"},E.default.createElement(z,{active:"none"!==o[0],error:a.hasError(),loading:!a.isReady(),source:a.getData(),target:n.getData(),chartsMeta:this.props.chartsMeta.getData([])})),E.default.createElement("div",{className:"col col--diptic prose"},E.default.createElement(z,{active:"none"!==o[1],error:n.hasError(),loading:!n.isReady(),source:n.getData(),target:a.getData(),chartsMeta:this.props.chartsMeta.getData([])})))}},{key:"render",value:function(){return E.default.createElement(f.default,null,E.default.createElement("section",{className:"inpage inpage--compare"},E.default.createElement("header",{className:"inpage__header"},E.default.createElement("div",{className:"inner"},E.default.createElement("div",{className:"inpage__headline"},E.default.createElement("h1",{className:"inpage__title"},"Compare")),E.default.createElement("div",{className:"inpage__actions"},E.default.createElement(m.default,{url:window.location.toString()})))),E.default.createElement("nav",{className:"inpage__nav",role:"navigation"},E.default.createElement("div",{className:"inner"},this.renderControls())),E.default.createElement("div",{className:"inpage__body"},E.default.createElement("div",{className:"inner"},this.renderFatalError(),this.renderGeographies()))))}}]),r}(E.default.Component);"production"!==i.environment&&(F.propTypes={fetchGeographies:a.PropTypes.func,fetchGeography:a.PropTypes.func,fetchChartsMeta:a.PropTypes.func,match:a.PropTypes.object,history:a.PropTypes.object,geographiesList:a.PropTypes.object,geoA:a.PropTypes.object,geoB:a.PropTypes.object,chartsMeta:a.PropTypes.object});var U=(0,n.connect)(function(e,t){var r=G(t.match.params.geoIsos);return{geographiesList:(0,l.wrapApiResult)(e.geographies.list),geoA:(0,l.wrapApiResult)((0,l.getFromState)(e.geographies.individualGeographies,r[0])),geoB:(0,l.wrapApiResult)((0,l.getFromState)(e.geographies.individualGeographies,r[1])),chartsMeta:(0,l.wrapApiResult)(e.geographies.chartsMeta)}},function(e){return{fetchGeographies:function(){return e(s.fetchGeographies.apply(void 0,arguments))},fetchGeography:function(){return e(s.fetchGeography.apply(void 0,arguments))},fetchChartsMeta:function(){return e(s.fetchChartsMeta.apply(void 0,arguments))}}})(F);r.default=U;var z=function(e){function r(e){var t;return C(this,r),t=L(this,M(r).call(this,e)),t.state={installedCapacity:t.getInitialChartTimeSeriesState(),powerGeneration:t.getInitialChartTimeSeriesState(),cleanEnergyInvestment:t.getInitialChartTimeSeriesState()},t}return I(r,e),x(r,[{key:"getInitialChartTimeSeriesState",value:function(){return{hover:!1,hoverDateValue:null}}},{key:"onInteractionEvent",value:function(e,t,r){switch(t){case"over":this.setState(T({},e,v({},this.state[e],{hover:!0})));break;case"out":this.setState(T({},e,v({},this.state[e],{hover:!1})));break;case"move":this.state[e].hoverDateValue&&this.state[e].hoverDateValue.getFullYear()===r.getFullYear()||this.setState(T({},e,{hover:!0,hoverDateValue:r}))}}},{key:"renderInactive",value:function(){return E.default.createElement("div",{className:"placeholder"},E.default.createElement("p",null,"Nothing to compare. Choose a Geography."))}},{key:"renderError",value:function(){return E.default.createElement("div",{className:"placeholder"},E.default.createElement("p",null,"An error occurred loading the geography. Try again."))}},{key:"renderLoading",value:function(){return E.default.createElement(y.LoadingSkeletonGroup,null,E.default.createElement(y.LoadingSkeleton,{width:1/6}),E.default.createElement(y.LoadingSkeleton,{type:"heading",width:1/3,size:"large",style:{marginBottom:"2rem"}}),E.default.createElement(y.LoadingSkeleton,{width:.5}),E.default.createElement(y.LoadingSkeleton,{width:.5}),E.default.createElement(y.LoadingSkeleton,{width:.5}))}},{key:"render",value:function(){var y=this,e=this.props,t=e.error,r=e.loading,a=e.active,g=e.source,v=e.target,b=e.chartsMeta;if(!a)return this.renderInactive();if(r)return this.renderLoading();if(t)return this.renderError();var n=g.topics.map(function(e){return{id:e.id,name:e.name,weight:e.weight,value:e.data[0].value}});return E.default.createElement(E.default.Fragment,null,E.default.createElement("div",{className:"compare--entry"},E.default.createElement("p",{className:"compare--entry__subtitle"},E.default.createElement(o.Link,{to:"/results?region=".concat(g.region.id),title:"View results for ".concat(g.region.name," region")},g.region.name)),E.default.createElement("h1",{className:"compare--entry__title"},E.default.createElement(o.Link,{to:"/results/".concat(g.iso),title:"View page"},g.name)," ",E.default.createElement(w.default,{grid:g.grid,noTip:!0})),E.default.createElement(P.ParameterBreakdown,{className:"legend par-legend legend--compare",data:n},E.default.createElement("dt",null,"Global rank"),E.default.createElement("dd",null,(0,p.padNumber)(g.score.data[0].rank,2)),E.default.createElement("dt",null,"Score"),E.default.createElement("dd",null,(0,u.round)(g.score.data[0].value))),E.default.createElement("div",{className:"par-section"},d.compareLayoutDef.map(function(t){try{if("availabilityPolicies"===t.id)return E.default.createElement(k.default,{key:t.id,geoIso:g.iso,size:t.size});var e=(0,j.getChartDef)(b,t.id),r=S(e,1),a=r[0];if("group"===a.type){var n=(0,j.getChartDef)(b,a.children,t.id),o=(0,j.getChildrenType)(a.id,n),i=(0,j.reconcileGroupChartData)(t,a,n,g.charts,g.iso);switch(o){case"answer":return(0,j.renderParCardAnswerGroup)(i);case"percent":return(0,j.renderParCardPercentGroup)(i);default:throw console.warn("Unable to render children type [".concat(o,"] for chart group [").concat(a.id,"]")),new Error("Unable to render children type [".concat(o,"] for chart group [").concat(a.id,"]"))}}else{var s=(0,j.reconcileChartData)(t,a,g.charts,g);switch(s.type){case"answer":return(0,j.renderParCardAnswer)(s);case"absolute":case"average":return(0,j.renderParCardAbsolute)(s);case"percent":return(0,j.renderParCardPercent)(s);case"range":return(0,j.renderParCardRange)(s);case"timeSeries":var l=(0,O.memoizedComputeAreaChartData)(s.data,s.mainDataLayers,"".concat(g.iso,"-").concat(a.id)),c=l.data.some(function(e){return e.values.some(function(e){return null!==e.value})}),u=l.yDomain;if(c&&v.iso){var p=(0,j.reconcileChartData)(t,a,v.charts,v),d=(0,O.memoizedComputeAreaChartData)(p.data,p.mainDataLayers,"".concat(v.iso,"-").concat(a.id)),f=S(d.yDomain,2),m=f[0],h=f[1];u=[Math.min(u[0],m||0),Math.max(u[1],h||0)]}return E.default.createElement(j.ParCard,{key:s.id,title:s.name,description:c&&s.description||null,size:s.size,className:(0,_.default)("chart-".concat(s.id),{"info-card--empty":!c})},!c&&E.default.createElement("p",null,"No data is available for this chart"),c&&E.default.createElement(O.default,{onBisectorEvent:y.onInteractionEvent.bind(y,s.id),interactionData:y.state[s.id],yLabel:l.yLabel,yDomain:u,xDomain:l.xDomain,data:l.data}));default:throw new Error("Unable to render chart type [".concat(s.type,"] for chart [").concat(s.id,"]"))}}}catch(e){return e.handled||console.error(e),(0,j.renderParCardError)(t,e.message)}}))))}}]),r}(E.default.PureComponent);"production"!==i.environment&&(z.propTypes={active:a.PropTypes.bool,error:a.PropTypes.bool,loading:a.PropTypes.bool,source:a.PropTypes.object,target:a.PropTypes.object,chartsMeta:a.PropTypes.array})},{"../components/area-chart":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/area-chart.js","../components/con--availability-polices":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/con--availability-polices.js","../components/form-select-control":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/form-select-control.js","../components/geography-params":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/geography-params.js","../components/loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js","../components/on-grid":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/on-grid.js","../components/parameters":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/parameters.js","../components/share":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/share.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/geographies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/geographies.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","../utils/geographies-layout":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/geographies-layout.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js","../utils/string":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/string.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/geographies-page.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var p=w(e("react")),a=e("prop-types"),n=e("react-redux"),i=e("react-router-dom"),s=e("react-sticky"),o=e("react-scrollable-anchor"),l=e("../config"),c=e("../redux/geographies"),u=e("../utils/string"),d=e("../utils/utils"),f=e("../utils/array"),m=e("../utils/math"),h=w(e("../utils/geographies-layout")),y=w(e("./app")),g=w(e("./uhoh")),v=w(e("../components/geography-map")),b=e("../components/geography-params"),E=e("../components/loading-skeleton"),_=w(e("../components/on-grid")),j=w(e("../components/geography-nav-bar"));function w(e){return e&&e.__esModule?e:{default:e}}function P(e){return P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k.apply(this,arguments)}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){S(t,e,r[e])})}return t}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function N(e,t){return!t||"object"!==P(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}(0,o.configureAnchors)({offset:-76});var x=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=N(this,C(r).call(this,e)),t.state={installedCapacity:t.getInitialChartTimeSeriesState(),powerGeneration:t.getInitialChartTimeSeriesState(),cleanEnergyInvestment:t.getInitialChartTimeSeriesState()},t}var t,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(r,e),t=r,a=[{key:"getInitialChartTimeSeriesState",value:function(){return{hover:!1,hoverDateValue:null}}},{key:"componentDidMount",value:function(){this.props.fetchGeography(this.props.match.params.geoIso),this.props.fetchGeographiesMeta(),this.props.fetchChartsMeta()}},{key:"componentDidUpdate",value:function(e){e.match.params.geoIso!==this.props.match.params.geoIso&&this.props.fetchGeography(this.props.match.params.geoIso)}},{key:"onInteractionEvent",value:function(e,t,r){switch(t){case"over":this.setState(S({},e,O({},this.state[e],{hover:!0})));break;case"out":this.setState(S({},e,O({},this.state[e],{hover:!1})));break;case"move":this.state[e].hoverDateValue&&this.state[e].hoverDateValue.getFullYear()===r.getFullYear()||this.setState(S({},e,{hover:!0,hoverDateValue:r}))}}},{key:"getGeoBounds",value:function(t){var e=this.props.geoMeta,r=e.hasError,a=e.getData;if(r())return[];var n=a([]).find(function(e){return(0,u.equalsIgnoreCase)(e.iso,t)});return n?n.bounds:[]}},{key:"renderProfile",value:function(){var e=this.props.geography,t=e.isReady,r=e.getData,a=r();return p.default.createElement("ul",{className:"inpage__details"},t()&&p.default.createElement("li",null,p.default.createElement("strong",null,(0,u.padNumber)(a.score.data[0].rank,2),p.default.createElement("small",null,"/"),(0,m.round)(a.score.data[0].value)),p.default.createElement("span",null,"Global rank / Score")),t()&&a.topics.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("strong",null,(0,m.round)(e.data[0].value)),p.default.createElement("span",null,e.name," score"))}),t()&&a.profile.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("strong",null,(0,m.round)(e.value),p.default.createElement("sub",null,e.unit)),p.default.createElement("span",null,e.name))}),!t()&&(0,f.initializeArrayWithRange)(6).map(function(e){return p.default.createElement("li",{key:e},p.default.createElement("strong",null,p.default.createElement(E.LoadingSkeleton,{theme:"light",size:"large",width:.75})),p.default.createElement("span",null,p.default.createElement(E.LoadingSkeleton,{theme:"light",size:"small",width:1/3})))}))}},{key:"renderGeoSections",value:function(){var t=this,e=this.props.geography,r=e.isReady,a=e.hasError,n=e.getData,o=this.props.chartsMeta,i=o.isReady,s=o.hasError,l=o.getData;if(a()||s())return p.default.createElement("div",{className:"par-section"},p.default.createElement("div",{className:"par-section__contents"},p.default.createElement("p",null,"Something went wrong. Try again.")));if(!r()||!i())return(0,f.initializeArrayWithRange)(3).map(function(e){return p.default.createElement("div",{key:e,className:"par-section"},p.default.createElement("div",{className:"par-section-loading"},p.default.createElement(E.LoadingSkeletonGroup,null,p.default.createElement(E.LoadingSkeleton,{type:"heading",size:"large",width:1/3}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:1}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:1}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:1}),p.default.createElement(E.LoadingSkeleton,{size:"small",width:.2}))))});var c=n(),u=l();return h.default.map(function(e){return p.default.createElement(b.ParSection,{key:e.id,id:e.id,type:e.type},(0,b.renderParArea)("alpha",e,u,c,t),(0,b.renderParArea)("beta",e,u,c,t))})}},{key:"render",value:function(){var t=this,e=this.props.geography,r=e.isReady,a=e.hasError,n=e.getData,o=n();return a()?p.default.createElement(g.default,null):p.default.createElement(y.default,{className:"page--has-hero",pageTitle:o.name||"Geograpghy"},p.default.createElement("article",{className:"inpage inpage--single inpage--results"},p.default.createElement("header",{className:"inpage__header"},p.default.createElement("div",{className:"inner"},p.default.createElement("div",{className:"inpage__headline"},p.default.createElement("p",{className:"inpage__subtitle"},p.default.createElement(i.Link,{to:"/results",title:"View results page"},"View all markets")),p.default.createElement("h1",{className:"inpage__title"},r()?o.name:p.default.createElement(E.LoadingSkeleton,{theme:"light",size:"large",type:"heading",inline:!0}),r()&&p.default.createElement(_.default,{grid:o.grid,theme:"negative",noTip:!0})),this.renderProfile())),p.default.createElement(v.default,{geographyBounds:this.getGeoBounds(o.iso),geographyISO:r()?o.iso.toUpperCase():""})),p.default.createElement(s.StickyContainer,null,p.default.createElement(s.Sticky,null,function(e){return p.default.createElement(j.default,k({},e,{currentItem:t.props.location.hash.substr(1),geography:o}))}),p.default.createElement("div",{className:"inpage__body"},this.renderGeoSections()))))}}],a&&T(t.prototype,a),n&&T(t,n),r}(p.default.Component);"production"!==l.environment&&(x.propTypes={fetchGeography:a.PropTypes.func,fetchGeographiesMeta:a.PropTypes.func,fetchChartsMeta:a.PropTypes.func,match:a.PropTypes.object,geography:a.PropTypes.object,geoMeta:a.PropTypes.object});var L=(0,n.connect)(function(e,t){return{geography:(0,d.wrapApiResult)((0,d.getFromState)(e.geographies.individualGeographies,t.match.params.geoIso)),geoMeta:(0,d.wrapApiResult)(e.geographies.meta),chartsMeta:(0,d.wrapApiResult)(e.geographies.chartsMeta)}},function(e){return{fetchGeography:function(){return e(c.fetchGeography.apply(void 0,arguments))},fetchGeographiesMeta:function(){return e(c.fetchGeographiesMeta.apply(void 0,arguments))},fetchChartsMeta:function(){return e(c.fetchChartsMeta.apply(void 0,arguments))}}})(x);r.default=L},{"../components/geography-map":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/geography-map.js","../components/geography-nav-bar":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/geography-nav-bar.js","../components/geography-params":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/geography-params.js","../components/loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js","../components/on-grid":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/on-grid.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/geographies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/geographies.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","../utils/geographies-layout":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/geographies-layout.js","../utils/math":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/math.js","../utils/string":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/string.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js","./uhoh":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/uhoh.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom","react-scrollable-anchor":"react-scrollable-anchor","react-sticky":"react-sticky"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/home.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=p(e("react")),a=e("prop-types"),n=e("react-redux"),o=e("react-router-dom"),s=e("../config"),l=e("../utils/constants"),c=(e("../redux/medium"),e("../utils/utils"),e("../utils/array"),p(e("./app"))),u=e("../components/lib-card");function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=e("../../data/cs-medium-latest.json"),v=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=m(this,h(r).call(this,e)),t.state={twitterLoaded:!1},t}var t,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,e),t=r,a=[{key:"componentDidMount",value:function(){}},{key:"renderMediumPosts",value:function(){return i.default.createElement("ol",{className:"card-list"},g.slice(0,9).map(function(e,t){var r="Explore";return e.tags.find(function(e){return"off-grid"===e.id})?r="Market outlook":e.tags.find(function(e){return"insights"===e.id})?r="Insight":e.tags.find(function(e){return"updates"===e.id})&&(r="Updates"),i.default.createElement("li",{key:e.id,className:"card-list__item"},i.default.createElement(u.MediumCard,{isFeatured:0===t,title:e.title,subtitle:r,url:e.url,description:e.description,tags:e.tags}))}))}},{key:"render",value:function(){return i.default.createElement(c.default,{className:"page--has-hero"},i.default.createElement("section",{className:"inpage inpage--home"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("h1",{className:"inpage__title"},"Which emerging market is the most attractive for clean energy investment?"),i.default.createElement("p",null,i.default.createElement(o.Link,{to:"/results",className:"home-cta-button",title:"View results"},i.default.createElement("span",null,"Discover the ranking")),i.default.createElement("a",{href:l.downloadData.current.report.url,className:"home-cta-button",title:"View results",target:"_blank"},i.default.createElement("span",null,"Read the report"))))),i.default.createElement("figure",{className:"inpage__hero inpage__hero--cover"},i.default.createElement("div",{className:"inpage__hero-item"},i.default.createElement("img",{src:"../assets/graphics/layout/hero--cover.jpg",width:"1920",height:"1280",alt:"Illustration"})),i.default.createElement("figcaption",{className:"inpage__hero-caption"},"Cover image"))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col--main"},i.default.createElement("section",{className:"fsection"},i.default.createElement("header",{className:"fsection__header"},i.default.createElement("div",{className:"fsection__headline"},i.default.createElement("h1",{className:"fsection__title"},"Insights")),i.default.createElement("div",{className:"fsection__actions"},i.default.createElement("a",{href:"https://medium.com/climatescope",title:"View all insights",className:"fsa-go"},i.default.createElement("span",null,"View all")))),this.renderMediumPosts())),i.default.createElement("div",{className:"col--sec"},i.default.createElement("section",{className:"fsection fsection--tweets"},i.default.createElement("header",{className:"fsection__header"},i.default.createElement("div",{className:"fsection__headline"},i.default.createElement("h1",{className:"fsection__title"},"Tools")),i.default.createElement("div",{className:"fsection__actions"})),i.default.createElement("ol",{className:"card-list"},l.tools.map(function(e){var t=e.url,r=e.title,a=e.label,n=e.description,o=e.image;return i.default.createElement("li",{key:t,className:"card-list__item"},i.default.createElement(u.ToolCard,{url:t,linkTitle:r,title:a,description:n,image:o}))}))))),i.default.createElement("section",{className:"fold fold--editions"},i.default.createElement("div",{className:"fold__contents"},i.default.createElement("header",{className:"fold__header"},i.default.createElement("h1",{className:"fold__title"},"About Climatescope"),i.default.createElement("div",{className:"fold__lead"},i.default.createElement("p",null,"The Climatescope project involves 42  BloombergNEF analysts compiling detailed data on 103 developing nations, and making visits to 54 countries in 2018."))),i.default.createElement("div",{className:"fold__body"},i.default.createElement("h2",null,"Revisit Climatescope"),i.default.createElement("ul",{className:"editions-menu"},l.editions.map(function(e){return i.default.createElement("li",{key:e.url,className:"editions-menu__item"},i.default.createElement("a",{href:e.url,title:e.title,className:"editions-menu__link"},i.default.createElement("span",null,e.label)))}))))))))}}],a&&f(t.prototype,a),n&&f(t,n),r}(i.default.Component);"production"!==s.environment&&(v.propTypes={location:a.PropTypes.object,history:a.PropTypes.object});var b=(0,n.connect)(function(e){},function(e){})(v);r.default=b},{"../../data/cs-medium-latest.json":"/home/olaf/projects/climatescope-2018/app/assets/data/cs-medium-latest.json","../components/lib-card":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/lib-card.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/medium":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/medium.js","../utils/array":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/array.js","../utils/constants":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/constants.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/library.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=m(e("react")),a=e("prop-types"),n=e("react-redux"),o=m(e("classnames")),s=m(e("react-ga")),l=e("../config"),c=e("../utils/constants"),u=m(e("./app")),p=m(e("../components/share")),d=m(e("../components/smart-link")),f=e("../components/lib-card");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function b(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}var w=function(e){function t(){return y(this,t),b(this,E(t).apply(this,arguments))}return _(t,e),v(t,[{key:"onDownloadClick",value:function(e){var t=e.split("/");s.default.event({category:"Data",action:"Download",label:t[t.length-1]})}},{key:"render",value:function(){var e=this.props,t=e.isFeatured,r=e.report,a=e.model;return i.default.createElement("article",{className:(0,o.default)("card card--short insight",{"card--featured":t})},i.default.createElement("div",{className:"card__contents"},i.default.createElement("header",{className:"card__header"},i.default.createElement("div",{className:"card__headline"},i.default.createElement("h1",{className:"card__title"},r.label))),i.default.createElement("footer",null,r&&i.default.createElement(d.default,{to:l.baseurl+r.url,title:r.title,className:"card__download-link",onClick:this.onDownloadClick.bind(this,r.url),target:"_blank"},i.default.createElement("span",null,"Report (PDF)")),r&&a&&i.default.createElement("br",null),a&&i.default.createElement(d.default,{to:l.baseurl+a.url,title:a.title,className:"card__download-link",onClick:this.onDownloadClick.bind(this,a.url),target:"_blank"},i.default.createElement("span",null,"Model (Excel)")))))}}]),t}(i.default.PureComponent);"production"!==l.environment&&(w.propTypes={isFeatured:a.PropTypes.bool,report:a.PropTypes.object,model:a.PropTypes.object});var P=function(e){function t(){return y(this,t),b(this,E(t).apply(this,arguments))}return _(t,e),v(t,[{key:"render",value:function(){return i.default.createElement(u.default,{pageTitle:"Content Library"},i.default.createElement("article",{className:"inpage inpage--library"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("h1",{className:"inpage__title"},"Content library")),i.default.createElement("div",{className:"inpage__actions"},i.default.createElement(p.default,{url:window.location.toString()})))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col--main"},i.default.createElement("h2",null,"Insights"),i.default.createElement("ul",{className:"card-list"},c.medium.pages.map(function(e){var t=e.url,r=e.title,a=e.label,n=e.description;return i.default.createElement("li",{key:t,className:"card-list__item"},i.default.createElement(f.MediumCategoryCard,{url:t,linkTitle:r,title:a,description:n}))})),i.default.createElement("h2",null,"Reports"),i.default.createElement("ul",{className:"card-list"},i.default.createElement("li",{className:"card-list__item"},i.default.createElement(w,{isFeatured:!0,report:c.downloadData.current.report,model:c.downloadData.current.model})),c.downloadData.previous.map(function(e){var t=e.report,r=e.model;return i.default.createElement("li",{key:t.url,className:"card-list__item"},i.default.createElement(w,{report:t,model:r}))}))),i.default.createElement("div",{className:"col--sec tools"},i.default.createElement("h2",null,"Tools"),i.default.createElement("ul",{className:"card-list"},c.tools.map(function(e){var t=e.url,r=e.title,a=e.label,n=e.description,o=e.image;return i.default.createElement("li",{key:t,className:"card-list__item"},i.default.createElement(f.ToolCard,{url:t,linkTitle:r,title:a,description:n,image:o}))})))))))}}]),t}(i.default.Component);"production"!==l.environment&&(P.propTypes={});var k=(0,n.connect)(function(e,t){return{}},function(e){return{}})(P);r.default=k},{"../components/lib-card":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/lib-card.js","../components/share":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/share.js","../components/smart-link":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/smart-link.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../utils/constants":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/constants.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga","react-redux":"react-redux"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/playground.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("react")),i=a(e("./app"));function a(e){return e&&e.__esModule?e:{default:e}}function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),r=t,a=[{key:"render",value:function(){return o.default.createElement(i.default,{className:"page--playground"},o.default.createElement("article",{className:"inpage"},o.default.createElement("header",{className:"inpage__header"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"inpage__headline"},o.default.createElement("h1",{className:"inpage__title"},"Playground")))),o.default.createElement("div",{className:"inpage__body"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"col col--main"},o.default.createElement("p",null,"Testing out new components."),o.default.createElement("article",{className:"popover popover--static",id:"marker-tip"},o.default.createElement("div",{className:"popover__contents"},o.default.createElement("header",{className:"popover__header"},o.default.createElement("div",{className:"popover__headline"},o.default.createElement("h1",{className:"popover__title"},o.default.createElement("a",{title:"View Philippines page",href:"/results/PH"},"Showcasing is a really long title")," ",o.default.createElement("small",{className:"label label--grid"},o.default.createElement("span",null,"On-grid")))),o.default.createElement("div",{className:"popover__header-toolbar"},o.default.createElement("a",{href:"#",title:"Close",className:"tba-xmark tba--text-hidden"},o.default.createElement("span",null,"Close")))),o.default.createElement("div",{className:"popover__body"},o.default.createElement("dl",{className:"legend par-legend"},o.default.createElement("dt",null,"Rank"),o.default.createElement("dd",null,"10"),o.default.createElement("dt",null,"Score"),o.default.createElement("dd",null,"2.16"),o.default.createElement("dt",{className:"legend__key--par-1"},"Fundamentals"),o.default.createElement("dd",null,"2.95 ",o.default.createElement("small",null,"50%")),o.default.createElement("dt",{className:"legend__key--par-2"},"Opportunities"),o.default.createElement("dd",null,"1.18 ",o.default.createElement("small",null,"25%")),o.default.createElement("dt",{className:"legend__key--par-3"},"Experience"),o.default.createElement("dd",null,"1.56 ",o.default.createElement("small",null,"25%")))),o.default.createElement("footer",{className:"popover__footer"},o.default.createElement("a",{className:"popover__cta",title:"View Philippines page",href:"/results/PH"},o.default.createElement("span",null,"View more"))))))))))}}],a&&s(r.prototype,a),n&&s(r,n),t}(o.default.Component);r.default=p},{"./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js",react:"react"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/policies-hub.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=h(e("react")),a=e("prop-types"),n=e("react-redux"),i=h(e("react-paginate")),s=e("../config"),l=e("../redux/policies"),c=e("../utils/utils"),u=h(e("../utils/qs-state")),p=h(e("./app")),d=h(e("../components/form-select-control")),f=h(e("../components/policies-table")),m=h(e("../components/share"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){v(t,e,r[e])})}return t}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{value:"all",label:"All"}].concat(w(e.map(function(e){return{value:e.id,label:e.name}}).sort(function(e,t){return e>t?1:-1})))},k=function(e){function a(e){var n,t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=this,r=E(a).call(this,e),n=!r||"object"!==y(r)&&"function"!==typeof r?j(t):r,n.onPolicyTableSort=n.onPolicyTableSort.bind(j(j(n))),n.onFilterReset=n.onFilterReset.bind(j(j(n))),n.onFilterClick=n.onFilterClick.bind(j(j(n))),n.onPageChange=n.onPageChange.bind(j(j(n))),n.qsState=new u.default({country:{accessor:"filters.country",default:"all"},mechanism:{accessor:"filters.mechanism",hydrator:function(e){return parseInt(e)},default:"all"},status:{accessor:"filters.status",hydrator:function(e){return parseInt(e)},default:"all"},page:{accessor:"page",hydrator:function(e){return parseInt(e)},default:1,validator:function(e){return!isNaN(e)&&e>0}},sortField:{accessor:"sort.field",default:"name",validator:["name","country","status"]},sortDir:{accessor:"sort.direction",default:"asc",validator:["asc","desc"]}}),n.state=g({},n.qsState.getState(n.props.location.search.substr(1))),n.props.fetchPolicyFilters().then(function(){var e=n.props.filters,t=e.fetched,r=e.data,a=e.error;return t&&!a&&(["country","mechanism","status"].forEach(function(e){n.qsState.setDefinition(e,{validator:r[e].map(function(e){return e.id})})}),n.setState(g({},n.qsState.getState(n.props.location.search.substr(1))))),n.fetchPolicies()}),n}var t,r,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e),t=a,r=[{key:"fetchPolicies",value:function(){var a=this;return this.props.fetchPolicies(g({limit:50,offset:50*(this.state.page-1),"sort-on":this.state.sort.field,"sort-direction":this.state.sort.direction},["country","mechanism","status"].reduce(function(e,t){var r=a.state.filters[t];return"all"!==r?g({},e,v({},t,r)):e},{})))}},{key:"updateUrlAndFetch",value:function(){var e=this.qsState.getQs(this.state);return this.props.history.push({search:e}),this.fetchPolicies()}},{key:"onFilterFieldChange",value:function(e,t){var r=t.target.value;this.setState({filters:g({},this.state.filters,v({},e,r))})}},{key:"onFilterClick",value:function(e){var t=this;e.preventDefault(),this.setState({page:1,sort:this.qsState.getState("").sort},function(){t.updateUrlAndFetch()})}},{key:"onFilterReset",value:function(e){var t=this;e.preventDefault(),this.setState(g({},this.qsState.getState("")),function(){t.updateUrlAndFetch()})}},{key:"onPolicyTableSort",value:function(e,t){var r=this;this.setState({page:1,sort:{field:e,direction:t}},function(){r.updateUrlAndFetch()})}},{key:"onPageChange",value:function(e){var t=this,r=e.selected;this.setState({page:r+1},function(){t.updateUrlAndFetch()})}},{key:"renderControls",value:function(){if(this.props.filters.hasError())return null;var e=this.props.filters.getData(),t=P(e.country),r=P(e.mechanism),a=P(e.status);return o.default.createElement("form",{className:"form controls pol-controls"},o.default.createElement(d.default,{label:"Geography",id:"policy_country",options:t,selectedOption:this.state.filters.country,onChange:this.onFilterFieldChange.bind(this,"country")}),o.default.createElement(d.default,{label:"Mechanism",id:"policy_mechanism",options:r,selectedOption:this.state.filters.mechanism,onChange:this.onFilterFieldChange.bind(this,"mechanism")}),o.default.createElement(d.default,{label:"Status",id:"policy_status",options:a,selectedOption:this.state.filters.status,onChange:this.onFilterFieldChange.bind(this,"status")}),o.default.createElement("div",{className:"form__actions"},o.default.createElement("button",{className:"controls__button-reset",onClick:this.onFilterReset,title:"Reset selection"},o.default.createElement("span",null,"Reset")),o.default.createElement("button",{className:"controls__button-submit",onClick:this.onFilterClick,title:"Apply filter selection"},o.default.createElement("span",null,"Filter"))))}},{key:"renderFatalError",value:function(){return this.props.filters.hasError()||this.props.policiesList.hasError()?o.default.createElement("p",null,"Something went wrong. Try again later."):null}},{key:"renderPagination",value:function(){if(!this.props.policiesList.isReady())return null;var e=this.props.policiesList.getMeta(),t=Math.ceil(e.total/e.limit);return t<=1?null:o.default.createElement("div",{className:"pagination-wrapper"},o.default.createElement(i.default,{previousLabel:o.default.createElement("span",null,"previous"),nextLabel:o.default.createElement("span",null,"next"),breakLabel:o.default.createElement("span",{className:"pages__page"},"..."),pageCount:t,forcePage:e.page-1,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.onPageChange,containerClassName:"pagination",subContainerClassName:"pages",pageClassName:"pages__wrapper",pageLinkClassName:"pages__page",activeClassName:"active"}))}},{key:"renderNoResults",value:function(){return this.props.policiesList.isReady()?this.props.policiesList.getData().length?void 0:o.default.createElement("p",null,"No results avaliable with current filters."):null}},{key:"render",value:function(){return o.default.createElement(p.default,{pageTitle:"Policies"},o.default.createElement("section",{className:"inpage inpage--hub inpage--policies"},o.default.createElement("header",{className:"inpage__header"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"inpage__headline"},o.default.createElement("h1",{className:"inpage__title"},"Policies"),o.default.createElement("div",{className:"inpage__introduction"},o.default.createElement("p",{className:"inpage__lead"},"Analyze more than 800 policies intended to spur clean energy development in the nations and states surveyed by Climatescope."))),o.default.createElement("div",{className:"inpage__actions"},o.default.createElement(m.default,{url:window.location.toString()})))),o.default.createElement("nav",{className:"inpage__nav",role:"navigation"},o.default.createElement("div",{className:"inner"},this.renderControls())),o.default.createElement("div",{className:"inpage__body"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"col col--full prose"},this.renderFatalError(),this.renderNoResults(),o.default.createElement(f.default,{sortField:this.state.sort.field,sortDirection:this.state.sort.direction,loading:!this.props.policiesList.isReady(),policies:this.props.policiesList.getData([]),onSort:this.onPolicyTableSort}),this.renderPagination())))))}}],r&&b(t.prototype,r),n&&b(t,n),a}(o.default.Component);"production"!==s.environment&&(k.propTypes={fetchPolicyFilters:a.PropTypes.func,fetchPolicies:a.PropTypes.func,location:a.PropTypes.object,history:a.PropTypes.object,filters:a.PropTypes.object,policiesList:a.PropTypes.object});var O=(0,n.connect)(function(e){return{filters:(0,c.wrapApiResult)(e.policies.filters),policiesList:(0,c.wrapApiResult)(e.policies.list)}},function(e){return{fetchPolicyFilters:function(){return e(l.fetchPolicyFilters.apply(void 0,arguments))},fetchPolicies:function(){return e(l.fetchPolicies.apply(void 0,arguments))}}})(k);r.default=O},{"../components/form-select-control":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/form-select-control.js","../components/policies-table":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/policies-table.js","../components/share":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/share.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/policies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/policies.js","../utils/qs-state":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/qs-state.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-paginate":"react-paginate","react-redux":"react-redux"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/policies-page.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=h(e("react")),a=e("prop-types"),i=e("react-router-dom"),n=e("react-redux"),s=e("../config"),l=e("../redux/policies"),c=e("../utils/utils"),u=e("../utils/string"),p=h(e("./app")),d=h(e("./uhoh")),f=e("../components/loading-skeleton"),m=h(e("../components/share"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,b(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){this.props.fetchPolicy(this.props.match.params.policyId)}},{key:"componentDidUpdate",value:function(e){e.match.params.policyId!==this.props.match.params.policyId&&this.props.fetchPolicy(this.props.match.params.policyId)}},{key:"renderOverview",value:function(e){return o.default.createElement("section",{className:"blk"},o.default.createElement("h1",null,"Overview"),o.default.createElement("div",{className:"abstract"},(0,u.reactNl2Br)(e.abstract)),o.default.createElement("div",{className:"description"},(0,u.reactNl2Br)(e.description)))}},{key:"renderPolicyActions",value:function(a){var e=[{key:"effectiveStartDate",value:"Effective start date"},{key:"legislationOrGovernance",value:"Legislation or governance"},{key:"legislationOrGovernanceInformation",value:"Legislation or governance information"}],t=e.some(function(e){var t=e.key;return!!a[t]})||a.legislationOrGovernanceUrl.length;return o.default.createElement("section",{className:"blk"},o.default.createElement("h1",null,"Policy actions"),t?o.default.createElement("dl",null,e.map(function(e){var t=e.key,r=e.value;return a[t]?o.default.createElement(o.default.Fragment,{key:t},o.default.createElement("dt",null,r),o.default.createElement("dd",null,a[t])):null}),a.legislationOrGovernanceUrl.length?o.default.createElement(o.default.Fragment,null,o.default.createElement("dt",null,"Legislation or governance url"),o.default.createElement("dd",null,o.default.createElement("ul",null,a.legislationOrGovernanceUrl.map(function(e){return o.default.createElement("li",{key:e.url},o.default.createElement("a",{href:e.url,title:"Go to ".concat(e.label)},e.label))})))):null):o.default.createElement("p",null,"There are no policy actions"))}},{key:"renderSubsectors",value:function(e){return o.default.createElement("section",{className:"blk"},o.default.createElement("h1",null,"Subsector"),o.default.createElement("ul",null,e.subsector.map(function(e){return o.default.createElement("li",{key:e.name},e.name)})))}},{key:"renderGeographies",value:function(e){return o.default.createElement("section",{className:"blk"},o.default.createElement("h1",null,"Geographies"),o.default.createElement("ul",null,e.country.map(function(e){return o.default.createElement("li",{key:e.name},e.name)})))}},{key:"renderAttributes",value:function(e){return o.default.createElement("section",{className:"blk"},o.default.createElement("h1",null,"Attributes"),o.default.createElement("dl",null,o.default.createElement("dt",null,"Status"),o.default.createElement("dd",null,e.status.name),e.fundingMethod&&o.default.createElement(o.default.Fragment,null,o.default.createElement("dt",null,"Funding method"),o.default.createElement("dd",null,e.fundingMethod)),e.process&&o.default.createElement(o.default.Fragment,null,o.default.createElement("dt",null,"Process"),o.default.createElement("dd",null,(0,u.reactNl2Br)(e.process)))))}},{key:"renderLoadingSkeleton",value:function(){return o.default.createElement("div",{className:"row--contained"},o.default.createElement("div",{className:"col--main"},o.default.createElement(f.LoadingSkeletonGroup,null,o.default.createElement(f.LoadingSkeleton,{type:"heading",width:1/3}),o.default.createElement(f.LoadingSkeleton,null),o.default.createElement(f.LoadingSkeleton,null),o.default.createElement(f.LoadingSkeleton,null),o.default.createElement(f.LoadingSkeleton,{width:.75}))),o.default.createElement("div",{className:"col--sec"},o.default.createElement("div",null,o.default.createElement(f.LoadingSkeletonGroup,null,o.default.createElement(f.LoadingSkeleton,{type:"heading",width:1/3}),o.default.createElement(f.LoadingSkeleton,{width:.75}),o.default.createElement(f.LoadingSkeleton,null)),o.default.createElement(f.LoadingSkeletonGroup,null,o.default.createElement(f.LoadingSkeleton,{type:"heading",width:.5}),o.default.createElement(f.LoadingSkeleton,null),o.default.createElement(f.LoadingSkeleton,null)))))}},{key:"render",value:function(){var e=this.props.policy,t=e.isReady,r=e.hasError,a=e.getData,n=a();return r()?o.default.createElement(d.default,null):o.default.createElement(p.default,{pageTitle:"Policy"},o.default.createElement("article",{className:"inpage inpage--single inpage--policies"},o.default.createElement("header",{className:"inpage__header"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"inpage__headline"},o.default.createElement("p",{className:"inpage__subtitle"},o.default.createElement(i.Link,{to:"/policies",title:"Browse the policy database"},o.default.createElement("span",null,"View all policies"))),o.default.createElement("h1",{className:"inpage__title"},t()?n.name:o.default.createElement(f.LoadingSkeleton,{size:"large",type:"heading",inline:!0}))),o.default.createElement("div",{className:"inpage__actions"},o.default.createElement(m.default,{url:window.location.toString()})))),o.default.createElement("div",{className:"inpage__body"},t()?o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"col col--main prose"},this.renderOverview(n),this.renderPolicyActions(n),this.renderSubsectors(n)),o.default.createElement("div",{className:"col--sec prose"},this.renderGeographies(n),this.renderAttributes(n))):o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"col col--full prose"},this.renderLoadingSkeleton())))))}}],a&&g(r.prototype,a),n&&g(r,n),t}(o.default.Component);"production"!==s.environment&&(_.propTypes={fetchPolicy:a.PropTypes.func,match:a.PropTypes.object,policy:a.PropTypes.object});var j=(0,n.connect)(function(e,t){return{policy:(0,c.wrapApiResult)((0,c.getFromState)(e.policies.individualPolicies,t.match.params.policyId))}},function(e){return{fetchPolicy:function(){return e(l.fetchPolicy.apply(void 0,arguments))}}})(_);r.default=j},{"../components/loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js","../components/share":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/share.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/policies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/policies.js","../utils/string":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/string.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js","./uhoh":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/uhoh.js","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/results.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=w(e("react")),a=e("prop-types"),n=e("react-redux"),o=w(e("classnames")),s=w(e("lodash.orderby")),l=w(e("lodash.get")),c=w(e("lodash.isequal")),u=e("react-sticky"),p=w(e("react-ga")),d=e("../config"),f=w(e("../utils/qs-state")),m=e("../redux/geographies"),h=e("../utils/utils"),y=e("../utils/constants"),g=w(e("./app")),v=e("../components/slider-controls"),b=w(e("../components/results-map")),E=w(e("../components/results-table")),_=w(e("../components/dropdown")),j=w(e("../components/share"));function w(e){return e&&e.__esModule?e:{default:e}}function P(e){return P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(e){C(t,e,r[e])})}return t}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e){return e.reduce(function(e,t){return N({},e,C({},t.id,{value:t.startingValue,locked:!1}))},{})},x=function(e){function n(e){var t,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=O(n).call(this,e),t=!a||"object"!==P(a)&&"function"!==typeof a?T(r):a,t.onWeightsResetClick=t.onWeightsResetClick.bind(T(T(t))),t.onSliderGroupChange=t.onSliderGroupChange.bind(T(T(t))),t.onSortChange=t.onSortChange.bind(T(T(t))),t.onMarkerHighlightChange=t.onMarkerHighlightChange.bind(T(T(t))),t.qsState=new f.default({region:{accessor:"region",default:"all",validator:y.regions.map(function(e){return e.id})}}),t.state=N({},t.qsState.getState(t.props.location.search.substr(1)),{sliders:{},sort:{field:"rank",dir:"asc"},markersHighlight:"top"}),t}var t,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,e),t=n,r=[{key:"componentDidMount",value:function(){this.props.fetchGeographies(),this.props.fetchGeographiesMeta()}},{key:"onMarkerHighlightChange",value:function(e){this.setState({markersHighlight:e})}},{key:"onWeightsResetClick",value:function(e){e.preventDefault(),this.setState({sliders:A(this.props.sliders)})}},{key:"onSliderGroupChange",value:function(e){this.setState({sliders:e})}},{key:"onRegionClick",value:function(e,t){var r=this;t.preventDefault(),this.setState({region:e},function(){var e=r.qsState.getQs(r.state);r.props.history.push({search:e})})}},{key:"onSortChange",value:function(e,t){this.setState({sort:{field:e,dir:t}})}},{key:"onDownloadClick",value:function(){p.default.event({category:"Data",action:"Download",label:"Model from results"})}},{key:"getRankedGeographies",value:function(){var e=this.props.geographiesList,t=e.getData,r=e.hasError,a=this.state,n=a.sliders,o=a.region;if(r())return[];var i=t([]).filter(function(e){return"all"===o||e.region.id===o}).map(function(e){var t=(e.topics||[]).map(function(e){var t=(0,l.default)(n,[e.id,"value"],0);return{id:e.id,name:e.name,value:e.data[0].value,weight:t}}),r="on"===e.grid||"off"!==e.grid&&null;return{iso:e.iso.toUpperCase(),name:e.name,grid:r,topics:t,score:t.reduce(function(e,t){return e+t.value*(t.weight/100)},0)}});return i=(0,s.default)(i,"score","desc"),i=i.map(function(e,t){return N({},e,{rank:t+1})}),i}},{key:"renderTitle",value:function(){var t=this,e=y.regions.find(function(e){return e.id===t.state.region}).name;return i.default.createElement("h1",{className:"inpage__title"},i.default.createElement("span",null,"Results for "),i.default.createElement("em",null,i.default.createElement(_.default,{className:"regions-drop",triggerElement:"a",triggerClassName:"drop__toggle drop__toggle--caret",triggerActiveClassName:"button--active",triggerText:e,triggerTitle:"Filter by region",direction:"down",alignment:"left"},i.default.createElement("h6",{className:"drop__title"},"Select region"),i.default.createElement("ul",{className:"drop__menu drop__menu--select"},y.regions.map(function(e){return i.default.createElement("li",{key:e.id},i.default.createElement("a",{href:"#",title:"view ".concat(e.name," results"),onClick:t.onRegionClick.bind(t,e.id),"data-hook":"dropdown:close",className:(0,o.default)("drop__menu-item",{"drop__menu-item--active":e.id===t.state.region})},e.name))})))))}},{key:"renderHeaderFn",value:function(e){var t=e.style,r=e.isSticky;return i.default.createElement("nav",{className:(0,o.default)("inpage__nav nav",{"inpage__nav--sticky":r}),style:t,role:"navigation"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"par-controls"},i.default.createElement("div",{className:"par-controls__headline"},i.default.createElement("h2",{className:"par-controls__title"},"Calculate your own score"),i.default.createElement("a",{href:"#",className:"par-controls__reset-button",title:"Reset topic weights",onClick:this.onWeightsResetClick},i.default.createElement("span",null,"Reset"))),i.default.createElement(v.SliderControlGroup,{sliders:this.props.sliders,values:this.state.sliders||{},onChange:this.onSliderGroupChange}))))}},{key:"renderResultsTable",value:function(){var e=this.props.geographiesList.isReady;return i.default.createElement(E.default,{sortField:this.state.sort.field,sortDirection:this.state.sort.dir,data:this.getRankedGeographies(),onSort:this.onSortChange,loading:!e()})}},{key:"render",value:function(){var t=this,r=this.state.region,e=this.props.geographiesList.hasError;if(e())return i.default.createElement(g.default,{pageTitle:"Results"},i.default.createElement("section",{className:"inpage inpage--hub"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("h1",{className:"inpage__title"},"Results")))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col col--main prose"},i.default.createElement("p",null,"Something went wrong. Try again later."))))));var a=this.getRankedGeographies(),n=a.map(function(e){return e.iso}),o=y.regions.find(function(e){return e.id===r});return i.default.createElement(g.default,{pageTitle:"Results"},i.default.createElement("section",{className:"inpage inpage--hub inpage--results"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},this.renderTitle()),i.default.createElement("div",{className:"inpage__actions"},i.default.createElement("a",{href:"".concat(d.baseurl).concat(y.downloadData.current.model.url),className:"ipa-download",title:"Download the interactive Climatescope model",onClick:this.onDownloadClick,target:"_blank"},i.default.createElement("span",null,"Download Model")),i.default.createElement(j.default,{url:window.location.toString()})))),i.default.createElement(u.StickyContainer,null,i.default.createElement(u.Sticky,null,function(e){return t.renderHeaderFn(e)}),i.default.createElement("div",{className:"inpage__body"},i.default.createElement(b.default,{bounds:o.bounds,highlightISO:n,meta:this.props.geoMeta.getData([]),data:a,onMarkerHighlightChange:this.onMarkerHighlightChange,markersHighlight:this.state.markersHighlight}),i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"col col--main"},this.renderResultsTable()))))))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return(0,c.default)(t.sliders,{})?{sliders:A(e.sliders)}:null}}],r&&k(t.prototype,r),a&&k(t,a),n}(i.default.Component);"production"!==d.environment&&(x.propTypes={history:a.PropTypes.object,location:a.PropTypes.object,fetchGeographies:a.PropTypes.func,fetchGeographiesMeta:a.PropTypes.func,geographiesList:a.PropTypes.object,geoMeta:a.PropTypes.object,sliders:a.PropTypes.array});var L=(0,n.connect)(function(e,t){var r=(0,h.wrapApiResult)(e.geographies.list),a=r.isReady,n=r.hasError,o=r.getData,i=[];if(a()&&!n()){var s=o()[0].topics;i=s.map(function(e){return{id:e.id,name:e.name,startingValue:100*e.weight}})}return{sliders:i,geographiesList:r,geoMeta:(0,h.wrapApiResult)(e.geographies.meta)}},function(e){return{fetchGeographies:function(){return e(m.fetchGeographies.apply(void 0,arguments))},fetchGeographiesMeta:function(){return e(m.fetchGeographiesMeta.apply(void 0,arguments))}}})(x);r.default=L},{"../components/dropdown":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/dropdown.js","../components/results-map":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/results-map.js","../components/results-table":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/results-table.js","../components/share":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/share.js","../components/slider-controls":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/slider-controls.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/geographies":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/geographies.js","../utils/constants":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/constants.js","../utils/qs-state":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/qs-state.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js",classnames:"classnames","lodash.get":"lodash.get","lodash.isequal":"lodash.isequal","lodash.orderby":"lodash.orderby","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-ga":"react-ga","react-redux":"react-redux","react-sticky":"react-sticky"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/static-page.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=h(e("react")),a=e("prop-types"),n=e("react-redux"),i=h(e("classnames")),s=e("../config"),l=e("../redux/static-page"),c=e("../utils/utils"),u=h(e("./app")),p=h(e("./uhoh")),d=h(e("../components/dangerous-script-content")),f=e("../components/loading-skeleton"),m=h(e("../components/share"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,b(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){this.props.fetchPage(this.props.match.params.page)}},{key:"componentDidUpdate",value:function(e){e.match.params.page!==this.props.match.params.page&&this.props.fetchPage(this.props.match.params.page)}},{key:"render",value:function(){var e=this.props.page,t=e.hasError,r=e.data,a=e.isReady,n=e.receivedAt;return t()?o.default.createElement(p.default,null):o.default.createElement(u.default,{pageTitle:r.title},o.default.createElement("article",{className:"inpage inpage--single"},o.default.createElement("header",{className:"inpage__header"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"inpage__headline"},o.default.createElement("h1",{className:"inpage__title"},a()?r.title:o.default.createElement(f.LoadingSkeleton,{width:2/3,size:"large",type:"heading",inline:!0}))),o.default.createElement("div",{className:"inpage__actions"},o.default.createElement(m.default,{url:window.location.toString()})))),o.default.createElement("div",{className:"inpage__body"},o.default.createElement("div",{className:"inner"},a()?o.default.createElement(d.default,{key:n,dangerousContent:r.content,className:(0,i.default)("col",{"col--main prose":!r.embedded,"col--full":r.embedded})}):o.default.createElement("div",{className:(0,i.default)("col",{"col--main prose":!r.embedded,"col--full":r.embedded})},o.default.createElement(f.LoadingSkeletonGroup,null,o.default.createElement(f.LoadingSkeleton,{width:1/3}),o.default.createElement(f.LoadingSkeleton,null),o.default.createElement(f.LoadingSkeleton,null),o.default.createElement(f.LoadingSkeleton,null),o.default.createElement(f.LoadingSkeleton,{width:.75})))))))}}],a&&g(r.prototype,a),n&&g(r,n),t}(o.default.Component);"production"!==s.environment&&(_.propTypes={fetchPage:a.PropTypes.func,match:a.PropTypes.object,page:a.PropTypes.object});var j=(0,n.connect)(function(e,t){return{page:(0,c.wrapApiResult)((0,c.getFromState)(e.staticPages,t.match.params.page))}},function(e){return{fetchPage:function(){return e(l.fetchPage.apply(void 0,arguments))}}})(_);r.default=j},{"../components/dangerous-script-content":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/dangerous-script-content.js","../components/loading-skeleton":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/loading-skeleton.js","../components/share":"/home/olaf/projects/climatescope-2018/app/assets/scripts/components/share.js","../config":"/home/olaf/projects/climatescope-2018/app/assets/scripts/config.js","../redux/static-page":"/home/olaf/projects/climatescope-2018/app/assets/scripts/redux/static-page.js","../utils/utils":"/home/olaf/projects/climatescope-2018/app/assets/scripts/utils/utils.js","./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js","./uhoh":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/uhoh.js",classnames:"classnames","prop-types":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js",react:"react","react-redux":"react-redux"}],"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/uhoh.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(e("react")),i=e("react-router-dom"),s=a(e("./app"));function a(e){return e&&e.__esModule?e:{default:e}}function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function l(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),r=t,a=[{key:"render",value:function(){return o.default.createElement(s.default,{pageTitle:"Page not found"},o.default.createElement("article",{className:"inpage"},o.default.createElement("header",{className:"inpage__header"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"inpage__headline"},o.default.createElement("h1",{className:"inpage__title"},"Page not found")))),o.default.createElement("div",{className:"inpage__body"},o.default.createElement("div",{className:"inner"},o.default.createElement("div",{className:"col col--main prose"},o.default.createElement("p",null,"We were not able to find the page you're looking for. It may have been archived or removed."),o.default.createElement("p",null,"You might find an older snapshot of this page at the ",o.default.createElement("a",{href:"http://archive.org/web/",title:"Find on Internet Archive"},"Internet Archive"),".",o.default.createElement("br",null)," If you think this page should be here let us know via ",o.default.createElement("a",{href:"mailto:climatescope@bloomberg.net",title:"Send us an email"},"email"),"."),o.default.createElement("p",null,o.default.createElement(i.Link,{className:"button-prose-cta",to:"/",title:"View"},o.default.createElement("span",null,"Visit the homepage"))))))))}}],a&&l(r.prototype,a),n&&l(r,n),t}(o.default.Component);r.default=d},{"./app":"/home/olaf/projects/climatescope-2018/app/assets/scripts/views/app.js",react:"react","react-router-dom":"react-router-dom"}],"/home/olaf/projects/climatescope-2018/node_modules/history/DOMUtils.js":[function(e,t,r){"use strict";r.__esModule=!0;r.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),r.addEventListener=function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},r.removeEventListener=function(e,t,r){return e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},r.getConfirmation=function(e,t){return t(window.confirm(e))},r.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},r.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},r.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},r.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},{}],"/home/olaf/projects/climatescope-2018/node_modules/history/LocationUtils.js":[function(e,t,r){"use strict";r.__esModule=!0,r.locationsAreEqual=r.createLocation=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=e("resolve-pathname"),i=c(a),n=e("value-equal"),s=c(n),l=e("./PathUtils");function c(e){return e&&e.__esModule?e:{default:e}}r.createLocation=function(e,t,r,a){var n=void 0;"string"===typeof e?(n=(0,l.parsePath)(e),n.state=t):(n=o({},e),void 0===n.pathname&&(n.pathname=""),n.search?"?"!==n.search.charAt(0)&&(n.search="?"+n.search):n.search="",n.hash?"#"!==n.hash.charAt(0)&&(n.hash="#"+n.hash):n.hash="",void 0!==t&&void 0===n.state&&(n.state=t));try{n.pathname=decodeURI(n.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(n.key=r),a?n.pathname?"/"!==n.pathname.charAt(0)&&(n.pathname=(0,i.default)(n.pathname,a.pathname)):n.pathname=a.pathname:n.pathname||(n.pathname="/"),n},r.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,s.default)(e.state,t.state)}},{"./PathUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/PathUtils.js","resolve-pathname":"/home/olaf/projects/climatescope-2018/node_modules/resolve-pathname/cjs/index.js","value-equal":"/home/olaf/projects/climatescope-2018/node_modules/value-equal/cjs/index.js"}],"/home/olaf/projects/climatescope-2018/node_modules/history/PathUtils.js":[function(e,t,r){"use strict";r.__esModule=!0;r.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},r.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e};var a=r.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};r.stripBasename=function(e,t){return a(e,t)?e.substr(t.length):e},r.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},r.parsePath=function(e){var t=e||"/",r="",a="",n=t.indexOf("#");-1!==n&&(a=t.substr(n),t=t.substr(0,n));var o=t.indexOf("?");return-1!==o&&(r=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===r?"":r,hash:"#"===a?"":a}},r.createPath=function(e){var t=e.pathname,r=e.search,a=e.hash,n=t||"/";return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}},{}],"/home/olaf/projects/climatescope-2018/node_modules/history/createBrowserHistory.js":[function(e,t,r){"use strict";r.__esModule=!0;var T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=e("warning"),C=i(a),n=e("invariant"),A=i(n),x=e("./LocationUtils"),L=e("./PathUtils"),o=e("./createTransitionManager"),M=i(o),I=e("./DOMUtils");function i(e){return e&&e.__esModule?e:{default:e}}var R="hashchange",D=function(){try{return window.history.state||{}}catch(e){return{}}};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,A.default)(I.canUseDOM,"Browser history needs a DOM");var s=window.history,l=(0,I.supportsHistory)(),t=!(0,I.supportsPopStateOnHashChange)(),r=e.forceRefresh,c=void 0!==r&&r,a=e.getUserConfirmation,n=void 0===a?I.getConfirmation:a,o=e.keyLength,i=void 0===o?6:o,u=e.basename?(0,L.stripTrailingSlash)((0,L.addLeadingSlash)(e.basename)):"",p=function(e){var t=e||{},r=t.key,a=t.state,n=window.location,o=n.pathname,i=n.search,s=n.hash,l=o+i+s;return(0,C.default)(!u||(0,L.hasBasename)(l,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+l+'" to begin with "'+u+'".'),u&&(l=(0,L.stripBasename)(l,u)),(0,x.createLocation)(l,a,r)},d=function(){return Math.random().toString(36).substr(2,i)},f=(0,M.default)(),m=function(e){N(S,e),S.length=s.length,f.notifyListeners(S.location,S.action)},h=function(e){(0,I.isExtraneousPopstateEvent)(e)||v(p(e.state))},y=function(){v(p(D()))},g=!1,v=function(t){g?(g=!1,m()):f.confirmTransitionTo(t,"POP",n,function(e){e?m({action:"POP",location:t}):b(t)})},b=function(e){var t=S.location,r=_.indexOf(t.key);-1===r&&(r=0);var a=_.indexOf(e.key);-1===a&&(a=0);var n=r-a;n&&(g=!0,w(n))},E=p(D()),_=[E.key],j=function(e){return u+(0,L.createPath)(e)},w=function(e){s.go(e)},P=0,k=function(e){P+=e,1===P?((0,I.addEventListener)(window,"popstate",h),t&&(0,I.addEventListener)(window,R,y)):0===P&&((0,I.removeEventListener)(window,"popstate",h),t&&(0,I.removeEventListener)(window,R,y))},O=!1,S={length:s.length,action:"POP",location:E,createHref:j,push:function(e,t){(0,C.default)(!("object"===("undefined"===typeof e?"undefined":T(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,x.createLocation)(e,t,d(),S.location);f.confirmTransitionTo(i,"PUSH",n,function(e){if(e){var t=j(i),r=i.key,a=i.state;if(l)if(s.pushState({key:r,state:a},null,t),c)window.location.href=t;else{var n=_.indexOf(S.location.key),o=_.slice(0,-1===n?0:n+1);o.push(i.key),_=o,m({action:"PUSH",location:i})}else(0,C.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){(0,C.default)(!("object"===("undefined"===typeof e?"undefined":T(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,x.createLocation)(e,t,d(),S.location);f.confirmTransitionTo(o,"REPLACE",n,function(e){if(e){var t=j(o),r=o.key,a=o.state;if(l)if(s.replaceState({key:r,state:a},null,t),c)window.location.replace(t);else{var n=_.indexOf(S.location.key);-1!==n&&(_[n]=o.key),m({action:"REPLACE",location:o})}else(0,C.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:w,goBack:function(){return w(-1)},goForward:function(){return w(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=f.setPrompt(e);return O||(k(1),O=!0),function(){return O&&(O=!1,k(-1)),t()}},listen:function(e){var t=f.appendListener(e);return k(1),function(){k(-1),t()}}};return S}},{"./DOMUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/DOMUtils.js","./LocationUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/LocationUtils.js","./PathUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/PathUtils.js","./createTransitionManager":"/home/olaf/projects/climatescope-2018/node_modules/history/createTransitionManager.js",invariant:"/home/olaf/projects/climatescope-2018/node_modules/invariant/browser.js",warning:"/home/olaf/projects/climatescope-2018/node_modules/history/node_modules/warning/browser.js"}],"/home/olaf/projects/climatescope-2018/node_modules/history/createHashHistory.js":[function(e,t,r){"use strict";r.__esModule=!0;var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=e("warning"),N=i(a),n=e("invariant"),C=i(n),A=e("./LocationUtils"),x=e("./PathUtils"),o=e("./createTransitionManager"),L=i(o),M=e("./DOMUtils");function i(e){return e&&e.__esModule?e:{default:e}}var I="hashchange",R={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,x.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:x.stripLeadingSlash,decodePath:x.addLeadingSlash},slash:{encodePath:x.addLeadingSlash,decodePath:x.addLeadingSlash}},D=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},G=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C.default)(M.canUseDOM,"Hash history needs a DOM");var t=window.history,r=(0,M.supportsGoWithoutReloadUsingHash)(),a=e.getUserConfirmation,n=void 0===a?M.getConfirmation:a,o=e.hashType,i=void 0===o?"slash":o,l=e.basename?(0,x.stripTrailingSlash)((0,x.addLeadingSlash)(e.basename)):"",s=R[i],c=s.encodePath,u=s.decodePath,p=function(){var e=u(D());return(0,N.default)(!l||(0,x.hasBasename)(e,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+l+'".'),l&&(e=(0,x.stripBasename)(e,l)),(0,A.createLocation)(e)},d=(0,L.default)(),f=function(e){T(S,e),S.length=t.length,d.notifyListeners(S.location,S.action)},m=!1,h=null,y=function(){var e=D(),t=c(e);if(e!==t)G(t);else{var r=p(),a=S.location;if(!m&&(0,A.locationsAreEqual)(a,r))return;if(h===(0,x.createPath)(r))return;h=null,g(r)}},g=function(t){m?(m=!1,f()):d.confirmTransitionTo(t,"POP",n,function(e){e?f({action:"POP",location:t}):v(t)})},v=function(e){var t=S.location,r=j.lastIndexOf((0,x.createPath)(t));-1===r&&(r=0);var a=j.lastIndexOf((0,x.createPath)(e));-1===a&&(a=0);var n=r-a;n&&(m=!0,w(n))},b=D(),E=c(b);b!==E&&G(E);var _=p(),j=[(0,x.createPath)(_)],w=function(e){(0,N.default)(r,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},P=0,k=function(e){P+=e,1===P?(0,M.addEventListener)(window,I,y):0===P&&(0,M.removeEventListener)(window,I,y)},O=!1,S={length:t.length,action:"POP",location:_,createHref:function(e){return"#"+c(l+(0,x.createPath)(e))},push:function(e,t){(0,N.default)(void 0===t,"Hash history cannot push state; it is ignored");var s=(0,A.createLocation)(e,void 0,void 0,S.location);d.confirmTransitionTo(s,"PUSH",n,function(e){if(e){var t,r=(0,x.createPath)(s),a=c(l+r),n=D()!==a;if(n){h=r,t=a,window.location.hash=t;var o=j.lastIndexOf((0,x.createPath)(S.location)),i=j.slice(0,-1===o?0:o+1);i.push(r),j=i,f({action:"PUSH",location:s})}else(0,N.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),f()}})},replace:function(e,t){(0,N.default)(void 0===t,"Hash history cannot replace state; it is ignored");var o=(0,A.createLocation)(e,void 0,void 0,S.location);d.confirmTransitionTo(o,"REPLACE",n,function(e){if(e){var t=(0,x.createPath)(o),r=c(l+t),a=D()!==r;a&&(h=t,G(r));var n=j.indexOf((0,x.createPath)(S.location));-1!==n&&(j[n]=t),f({action:"REPLACE",location:o})}})},go:w,goBack:function(){return w(-1)},goForward:function(){return w(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=d.setPrompt(e);return O||(k(1),O=!0),function(){return O&&(O=!1,k(-1)),t()}},listen:function(e){var t=d.appendListener(e);return k(1),function(){k(-1),t()}}};return S}},{"./DOMUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/DOMUtils.js","./LocationUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/LocationUtils.js","./PathUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/PathUtils.js","./createTransitionManager":"/home/olaf/projects/climatescope-2018/node_modules/history/createTransitionManager.js",invariant:"/home/olaf/projects/climatescope-2018/node_modules/invariant/browser.js",warning:"/home/olaf/projects/climatescope-2018/node_modules/history/node_modules/warning/browser.js"}],"/home/olaf/projects/climatescope-2018/node_modules/history/createMemoryHistory.js":[function(e,t,r){"use strict";r.__esModule=!0;var y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=e("warning"),v=o(a),b=e("./PathUtils"),E=e("./LocationUtils"),n=e("./createTransitionManager"),_=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var j=function(e,t,r){return Math.min(Math.max(e,t),r)};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.getUserConfirmation,t=e.initialEntries,r=void 0===t?["/"]:t,n=e.initialIndex,o=void 0===n?0:n,i=e.keyLength,s=void 0===i?6:i,l=(0,_.default)(),c=function(e){g(h,e),h.length=h.entries.length,l.notifyListeners(h.location,h.action)},u=function(){return Math.random().toString(36).substr(2,s)},p=j(o,0,r.length-1),d=r.map(function(e){return"string"===typeof e?(0,E.createLocation)(e,void 0,u()):(0,E.createLocation)(e,void 0,e.key||u())}),f=b.createPath,m=function(e){var t=j(h.index+e,0,h.entries.length-1),r=h.entries[t];l.confirmTransitionTo(r,"POP",a,function(e){e?c({action:"POP",location:r,index:t}):c()})},h={length:d.length,action:"POP",location:d[p],index:p,entries:d,createHref:f,push:function(e,t){(0,v.default)(!("object"===("undefined"===typeof e?"undefined":y(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var n=(0,E.createLocation)(e,t,u(),h.location);l.confirmTransitionTo(n,"PUSH",a,function(e){if(e){var t=h.index,r=t+1,a=h.entries.slice(0);a.length>r?a.splice(r,a.length-r,n):a.push(n),c({action:"PUSH",location:n,index:r,entries:a})}})},replace:function(e,t){(0,v.default)(!("object"===("undefined"===typeof e?"undefined":y(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,E.createLocation)(e,t,u(),h.location);l.confirmTransitionTo(r,"REPLACE",a,function(e){e&&(h.entries[h.index]=r,c({action:"REPLACE",location:r}))})},go:m,goBack:function(){return m(-1)},goForward:function(){return m(1)},canGo:function(e){var t=h.index+e;return t>=0&&t<h.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return h}},{"./LocationUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/LocationUtils.js","./PathUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/PathUtils.js","./createTransitionManager":"/home/olaf/projects/climatescope-2018/node_modules/history/createTransitionManager.js",warning:"/home/olaf/projects/climatescope-2018/node_modules/history/node_modules/warning/browser.js"}],"/home/olaf/projects/climatescope-2018/node_modules/history/createTransitionManager.js":[function(e,t,r){"use strict";r.__esModule=!0;var a,n=e("warning"),i=(a=n,a&&a.__esModule?a:{default:a});r.default=function(){var o=null,a=[];return{setPrompt:function(e){return(0,i.default)(null==o,"A history supports only one prompt at a time"),o=e,function(){o===e&&(o=null)}},confirmTransitionTo:function(e,t,r,a){if(null!=o){var n="function"===typeof o?o(e,t):o;"string"===typeof n?"function"===typeof r?r(n,a):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==n)}else a(!0)},appendListener:function(e){var t=!0,r=function(){t&&e.apply(void 0,arguments)};return a.push(r),function(){t=!1,a=a.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a.forEach(function(e){return e.apply(void 0,t)})}}}},{warning:"/home/olaf/projects/climatescope-2018/node_modules/history/node_modules/warning/browser.js"}],"/home/olaf/projects/climatescope-2018/node_modules/history/index.js":[function(e,t,r){"use strict";r.__esModule=!0,r.createPath=r.parsePath=r.locationsAreEqual=r.createLocation=r.createMemoryHistory=r.createHashHistory=r.createBrowserHistory=void 0;var a=e("./LocationUtils");Object.defineProperty(r,"createLocation",{enumerable:!0,get:function(){return a.createLocation}}),Object.defineProperty(r,"locationsAreEqual",{enumerable:!0,get:function(){return a.locationsAreEqual}});var n=e("./PathUtils");Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return n.parsePath}}),Object.defineProperty(r,"createPath",{enumerable:!0,get:function(){return n.createPath}});var o=e("./createBrowserHistory"),i=p(o),s=e("./createHashHistory"),l=p(s),c=e("./createMemoryHistory"),u=p(c);function p(e){return e&&e.__esModule?e:{default:e}}r.createBrowserHistory=i.default,r.createHashHistory=l.default,r.createMemoryHistory=u.default},{"./LocationUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/LocationUtils.js","./PathUtils":"/home/olaf/projects/climatescope-2018/node_modules/history/PathUtils.js","./createBrowserHistory":"/home/olaf/projects/climatescope-2018/node_modules/history/createBrowserHistory.js","./createHashHistory":"/home/olaf/projects/climatescope-2018/node_modules/history/createHashHistory.js","./createMemoryHistory":"/home/olaf/projects/climatescope-2018/node_modules/history/createMemoryHistory.js"}],"/home/olaf/projects/climatescope-2018/node_modules/history/node_modules/warning/browser.js":[function(e,t,r){"use strict";var a=function(){};t.exports=a},{}],"/home/olaf/projects/climatescope-2018/node_modules/invariant/browser.js":[function(e,t,r){"use strict";t.exports=function(e,t,r,a,n,o,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,a,n,o,i,s],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}},{}],"/home/olaf/projects/climatescope-2018/node_modules/object-assign/index.js":[function(e,t,r){"use strict";var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==a.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,n=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var i in r=Object(arguments[o]),r)c.call(r,i)&&(n[i]=r[i]);if(l){a=l(r);for(var s=0;s<a.length;s++)u.call(r,a[s])&&(n[a[s]]=r[a[s]])}}return n}},{}],"/home/olaf/projects/climatescope-2018/node_modules/process/browser.js":[function(e,t,r){var a,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(a===setTimeout)return setTimeout(t,0);if((a===i||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}!function(){try{a="function"===typeof setTimeout?setTimeout:i}catch(e){a=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],p=!1,d=-1;function f(){p&&c&&(p=!1,c.length?u=c.concat(u):d=-1,u.length&&m())}function m(){if(!p){var e=l(f);p=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,p=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||p||l(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],"/home/olaf/projects/climatescope-2018/node_modules/prop-types/checkPropTypes.js":[function(e,t,r){"use strict";t.exports=function(e,t,r,a,n){}},{"./lib/ReactPropTypesSecret":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/lib/ReactPropTypesSecret.js"}],"/home/olaf/projects/climatescope-2018/node_modules/prop-types/factoryWithThrowingShims.js":[function(e,t,r){"use strict";var s=e("./lib/ReactPropTypesSecret");function a(){}t.exports=function(){function e(e,t,r,a,n,o){if(o!==s){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=a,r.PropTypes=r,r}},{"./lib/ReactPropTypesSecret":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/lib/ReactPropTypesSecret.js"}],"/home/olaf/projects/climatescope-2018/node_modules/prop-types/factoryWithTypeCheckers.js":[function(e,t,r){"use strict";var h=e("object-assign"),y=e("./lib/ReactPropTypesSecret"),n=e("./checkPropTypes"),g=function(){};function v(){return null}t.exports=function(s,c){var o="function"===typeof Symbol&&Symbol.iterator,i="@@iterator";var u="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:r(v),arrayOf:function(c){return r(function(e,t,r,a,n){if("function"!==typeof c)return new d("Property `"+n+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var o=e[t];if(!Array.isArray(o)){var i=f(o);return new d("Invalid "+a+" `"+n+"` of type `"+i+"` supplied to `"+r+"`, expected an array.")}for(var s=0;s<o.length;s++){var l=c(o,s,r,a,n+"["+s+"]",y);if(l instanceof Error)return l}return null})},element:r(function(e,t,r,a,n){var o=e[t];if(s(o))return null;var i=f(o);return new d("Invalid "+a+" `"+n+"` of type `"+i+"` supplied to `"+r+"`, expected a single ReactElement.")}),instanceOf:function(l){return r(function(e,t,r,a,n){if(e[t]instanceof l)return null;var o=l.name||u,i=(s=e[t],s.constructor&&s.constructor.name?s.constructor.name:u);var s;return new d("Invalid "+a+" `"+n+"` of type `"+i+"` supplied to `"+r+"`, expected instance of `"+o+"`.")})},node:r(function(e,t,r,a,n){return l(e[t])?null:new d("Invalid "+a+" `"+n+"` supplied to `"+r+"`, expected a ReactNode.")}),objectOf:function(c){return r(function(e,t,r,a,n){if("function"!==typeof c)return new d("Property `"+n+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var o=e[t],i=f(o);if("object"!==i)return new d("Invalid "+a+" `"+n+"` of type `"+i+"` supplied to `"+r+"`, expected an object.");for(var s in o)if(o.hasOwnProperty(s)){var l=c(o,s,r,a,n+"."+s,y);if(l instanceof Error)return l}return null})},oneOf:function(l){if(!Array.isArray(l))return v;return r(function(e,t,r,a,n){for(var o=e[t],i=0;i<l.length;i++)if(p(o,l[i]))return null;var s=JSON.stringify(l);return new d("Invalid "+a+" `"+n+"` of value `"+o+"` supplied to `"+r+"`, expected one of "+s+".")})},oneOfType:function(s){if(!Array.isArray(s))return v;for(var e=0;e<s.length;e++){var t=s[e];if("function"!==typeof t)return g("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+a(t)+" at index "+e+"."),v}return r(function(e,t,r,a,n){for(var o=0;o<s.length;o++){var i=s[o];if(null==i(e,t,r,a,n,y))return null}return new d("Invalid "+a+" `"+n+"` supplied to `"+r+"`.")})},shape:function(u){return r(function(e,t,r,a,n){var o=e[t],i=f(o);if("object"!==i)return new d("Invalid "+a+" `"+n+"` of type `"+i+"` supplied to `"+r+"`, expected `object`.");for(var s in u){var l=u[s];if(l){var c=l(o,s,r,a,n+"."+s,y);if(c)return c}}return null})},exact:function(p){return r(function(e,t,r,a,n){var o=e[t],i=f(o);if("object"!==i)return new d("Invalid "+a+" `"+n+"` of type `"+i+"` supplied to `"+r+"`, expected `object`.");var s=h({},e[t],p);for(var l in s){var c=p[l];if(!c)return new d("Invalid "+a+" `"+n+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(p),null,"  "));var u=c(o,l,r,a,n+"."+l,y);if(u)return u}return null})}};function p(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function r(l){function e(e,t,r,a,n,o,i){if((a=a||u,o=o||r,i!==y)&&c){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}return null==t[r]?e?null===t[r]?new d("The "+n+" `"+o+"` is marked as required in `"+a+"`, but its value is `null`."):new d("The "+n+" `"+o+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:l(t,r,a,n,o)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(c){return r(function(e,t,r,a,n,o){var i=e[t],s=f(i);if(s===c)return null;var l=m(i);return new d("Invalid "+a+" `"+n+"` of type `"+l+"` supplied to `"+r+"`, expected `"+c+"`.")})}function l(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(l);if(null===e||s(e))return!0;var t=function(e){var t=e&&(o&&e[o]||e[i]);if("function"===typeof t)return t}(e);if(!t)return!1;var r,a=t.call(e);if(t!==e.entries){for(;!(r=a.next()).done;)if(!l(r.value))return!1}else for(;!(r=a.next()).done;){var n=r.value;if(n&&!l(n[1]))return!1}return!0;default:return!1}}function f(e){var t,r,a=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=a,r=e,"symbol"===t||"Symbol"===r["@@toStringTag"]||"function"===typeof Symbol&&r instanceof Symbol?"symbol":a)}function m(e){if("undefined"===typeof e||null===e)return""+e;var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function a(e){var t=m(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,e.checkPropTypes=n,e.PropTypes=e,e}},{"./checkPropTypes":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/checkPropTypes.js","./lib/ReactPropTypesSecret":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/lib/ReactPropTypesSecret.js","object-assign":"/home/olaf/projects/climatescope-2018/node_modules/object-assign/index.js"}],"/home/olaf/projects/climatescope-2018/node_modules/prop-types/index.js":[function(e,t,r){t.exports=e("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/factoryWithThrowingShims.js","./factoryWithTypeCheckers":"/home/olaf/projects/climatescope-2018/node_modules/prop-types/factoryWithTypeCheckers.js"}],"/home/olaf/projects/climatescope-2018/node_modules/prop-types/lib/ReactPropTypesSecret.js":[function(e,t,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],"/home/olaf/projects/climatescope-2018/node_modules/resolve-pathname/cjs/index.js":[function(e,t,r){"use strict";function f(e){return"/"===e.charAt(0)}function m(e,t){for(var r=t,a=r+1,n=e.length;a<n;r+=1,a+=1)e[r]=e[a];e.pop()}r.__esModule=!0,r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.split("/")||[],a=t&&t.split("/")||[],n=e&&f(e),o=t&&f(t),i=n||o;if(e&&f(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";var s=void 0;if(a.length){var l=a[a.length-1];s="."===l||".."===l||""===l}else s=!1;for(var c=0,u=a.length;u>=0;u--){var p=a[u];"."===p?m(a,u):".."===p?(m(a,u),c++):c&&(m(a,u),c--)}if(!i)for(;c--;c)a.unshift("..");!i||""===a[0]||a[0]&&f(a[0])||a.unshift("");var d=a.join("/");return s&&"/"!==d.substr(-1)&&(d+="/"),d},t.exports=r.default},{}],"/home/olaf/projects/climatescope-2018/node_modules/value-equal/cjs/index.js":[function(e,t,r){"use strict";r.__esModule=!0;var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=function r(t,a){if(t===a)return!0;if(null==t||null==a)return!1;if(Array.isArray(t))return Array.isArray(a)&&t.length===a.length&&t.every(function(e,t){return r(e,a[t])});var e="undefined"===typeof t?"undefined":c(t),n="undefined"===typeof a?"undefined":c(a);if(e!==n)return!1;if("object"!==e)return!1;var o=t.valueOf(),i=a.valueOf();if(o!==t||i!==a)return r(o,i);var s=Object.keys(t),l=Object.keys(a);return s.length===l.length&&s.every(function(e){return r(t[e],a[e])})},t.exports=r.default},{}]},{},["/home/olaf/projects/climatescope-2018/app/assets/scripts/main.js"]);